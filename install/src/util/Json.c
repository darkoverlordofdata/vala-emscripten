/* Json.c generated by valac 0.34.8, the Vala compiler
 * generated from Json.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <float.h>
#include <math.h>


#define UTIL_TYPE_JS_VARIANT (util_js_variant_get_type ())
#define UTIL_JS_VARIANT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), UTIL_TYPE_JS_VARIANT, utilJsVariant))
#define UTIL_JS_VARIANT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), UTIL_TYPE_JS_VARIANT, utilJsVariantClass))
#define UTIL_IS_JS_VARIANT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), UTIL_TYPE_JS_VARIANT))
#define UTIL_IS_JS_VARIANT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), UTIL_TYPE_JS_VARIANT))
#define UTIL_JS_VARIANT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), UTIL_TYPE_JS_VARIANT, utilJsVariantClass))

typedef struct _utilJsVariant utilJsVariant;
typedef struct _utilJsVariantClass utilJsVariantClass;

#define UTIL_TYPE_JSON (util_json_get_type ())
#define UTIL_JSON(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), UTIL_TYPE_JSON, utilJson))
#define UTIL_JSON_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), UTIL_TYPE_JSON, utilJsonClass))
#define UTIL_IS_JSON(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), UTIL_TYPE_JSON))
#define UTIL_IS_JSON_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), UTIL_TYPE_JSON))
#define UTIL_JSON_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), UTIL_TYPE_JSON, utilJsonClass))

typedef struct _utilJson utilJson;
typedef struct _utilJsonClass utilJsonClass;
typedef struct _utilJsonPrivate utilJsonPrivate;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define UTIL_TYPE_JS_TYPE (util_js_type_get_type ())
typedef struct _utilJsVariantPrivate utilJsVariantPrivate;

typedef enum  {
	UTIL_JSON_EXCEPTION_SyntaxError,
	UTIL_JSON_EXCEPTION_UnexpectedCharacter,
	UTIL_JSON_EXCEPTION_InvalidString,
	UTIL_JSON_EXCEPTION_InvalidArray,
	UTIL_JSON_EXCEPTION_InvalidObject,
	UTIL_JSON_EXCEPTION_DuplicateKey
} utilJsonException;
#define UTIL_JSON_EXCEPTION util_json_exception_quark ()
typedef utilJsVariant* (*utilJsDelegate) (utilJsVariant* holder, const gchar* key, utilJsVariant* value, void* user_data);
struct _utilJson {
	GObject parent_instance;
	utilJsonPrivate * priv;
	gint at;
	gchar ch;
	gchar* text;
	utilJsDelegate replacer;
	gpointer replacer_target;
	GDestroyNotify replacer_target_destroy_notify;
};

struct _utilJsonClass {
	GObjectClass parent_class;
};

typedef enum  {
	UTIL_JS_TYPE_JS_INVALID,
	UTIL_JS_TYPE_JS_BOOLEAN,
	UTIL_JS_TYPE_JS_NUMBER,
	UTIL_JS_TYPE_JS_STRING,
	UTIL_JS_TYPE_JS_OBJECT,
	UTIL_JS_TYPE_JS_ARRAY
} utilJsType;

struct _utilJsVariant {
	GObject parent_instance;
	utilJsVariantPrivate * priv;
	gboolean boolean;
	gdouble number;
	gchar* string;
	GHashTable* object;
	GList* array;
	utilJsType type;
};

struct _utilJsVariantClass {
	GObjectClass parent_class;
};


static gpointer util_json_parent_class = NULL;
extern gchar* util_json_gap;
gchar* util_json_gap = NULL;
extern gchar* util_json_indent;
gchar* util_json_indent = NULL;

GQuark util_json_exception_quark (void);
GType util_js_variant_get_type (void) G_GNUC_CONST;
GType util_json_get_type (void) G_GNUC_CONST;
enum  {
	UTIL_JSON_DUMMY_PROPERTY
};
#define UTIL_JSON_HEX_DIGIT "0123456789abcdef"
#define UTIL_JSON_escape0 "\"\\/bfnrt"
utilJson* util_json_new (utilJsDelegate replacer, void* replacer_target);
utilJson* util_json_construct (GType object_type, utilJsDelegate replacer, void* replacer_target);
utilJsVariant* util_json_parse (const gchar* source);
utilJsVariant* util_json_parseJson (utilJson* self, const gchar* source);
gchar* util_json_stringify (utilJsVariant* value, utilJsDelegate replacer, void* replacer_target, const gchar* space);
GType util_js_type_get_type (void) G_GNUC_CONST;
utilJsVariant* util_js_variant_new (utilJsType type, gboolean isNull);
utilJsVariant* util_js_variant_construct (GType object_type, utilJsType type, gboolean isNull);
gchar* util_json_str (utilJson* self, const gchar* key, utilJsVariant* holder);
gchar* util_json_quote (utilJson* self, const gchar* str);
utilJsVariant* util_json_getItem (utilJson* self, utilJsVariant* holder, const gchar* key);
utilJsVariant* util_json_getValue (utilJson* self);
void util_json_skipWhite (utilJson* self);
gchar util_json_next (utilJson* self, gchar* c);
static gboolean _g_ascii_equal (const gchar* s1, const gchar* s2);
utilJsVariant* util_json_getObject (utilJson* self);
utilJsVariant* util_json_getArray (utilJson* self);
utilJsVariant* util_json_getString (utilJson* self);
utilJsVariant* util_json_getNumber (utilJson* self);
utilJsVariant* util_json_getWord (utilJson* self);
utilJsVariant* util_js_variant_Number (gdouble value);
utilJsVariant* util_js_variant_String (const gchar* value);
utilJsVariant* util_js_variant_Boolean (gboolean value);
static void util_json_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);

const gchar* UTIL_JSON_escape1[8] = {"\"", "\\", "/", "\b", "\f", "\n", "\r", "\t"};

GQuark util_json_exception_quark (void) {
	return g_quark_from_static_string ("util_json_exception-quark");
}


utilJson* util_json_construct (GType object_type, utilJsDelegate replacer, void* replacer_target) {
	utilJson * self = NULL;
	utilJsDelegate _tmp0_ = NULL;
	void* _tmp0__target = NULL;
	self = (utilJson*) g_object_new (object_type, NULL);
	_tmp0_ = replacer;
	_tmp0__target = replacer_target;
	(self->replacer_target_destroy_notify == NULL) ? NULL : (self->replacer_target_destroy_notify (self->replacer_target), NULL);
	self->replacer = NULL;
	self->replacer_target = NULL;
	self->replacer_target_destroy_notify = NULL;
	self->replacer = _tmp0_;
	self->replacer_target = _tmp0__target;
	self->replacer_target_destroy_notify = NULL;
	return self;
}


utilJson* util_json_new (utilJsDelegate replacer, void* replacer_target) {
	return util_json_construct (UTIL_TYPE_JSON, replacer, replacer_target);
}


utilJsVariant* util_json_parse (const gchar* source) {
	utilJsVariant* result = NULL;
	utilJson* _tmp0_ = NULL;
	utilJson* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	utilJsVariant* _tmp3_ = NULL;
	utilJsVariant* _tmp4_ = NULL;
	g_return_val_if_fail (source != NULL, NULL);
	_tmp0_ = util_json_new (NULL, NULL);
	_tmp1_ = _tmp0_;
	_tmp2_ = source;
	_tmp3_ = util_json_parseJson (_tmp1_, _tmp2_);
	_tmp4_ = _tmp3_;
	_g_object_unref0 (_tmp1_);
	result = _tmp4_;
	return result;
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


gchar* util_json_stringify (utilJsVariant* value, utilJsDelegate replacer, void* replacer_target, const gchar* space) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	utilJsVariant* holder = NULL;
	utilJsVariant* _tmp3_ = NULL;
	GHashTable* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	utilJsVariant* _tmp6_ = NULL;
	utilJsVariant* _tmp7_ = NULL;
	utilJsDelegate _tmp8_ = NULL;
	void* _tmp8__target = NULL;
	utilJson* _tmp9_ = NULL;
	utilJson* _tmp10_ = NULL;
	gchar* _tmp11_ = NULL;
	gchar* _tmp12_ = NULL;
	g_return_val_if_fail (value != NULL, NULL);
	g_return_val_if_fail (space != NULL, NULL);
	_tmp0_ = g_strdup ("");
	_g_free0 (util_json_gap);
	util_json_gap = _tmp0_;
	_tmp1_ = space;
	_tmp2_ = g_strdup (_tmp1_);
	_g_free0 (util_json_indent);
	util_json_indent = _tmp2_;
	_tmp3_ = util_js_variant_new (UTIL_JS_TYPE_JS_OBJECT, FALSE);
	holder = _tmp3_;
	_tmp4_ = holder->object;
	_tmp5_ = g_strdup ("");
	_tmp6_ = value;
	_tmp7_ = _g_object_ref0 (_tmp6_);
	g_hash_table_insert (_tmp4_, _tmp5_, _tmp7_);
	_tmp8_ = replacer;
	_tmp8__target = replacer_target;
	_tmp9_ = util_json_new (_tmp8_, _tmp8__target);
	_tmp10_ = _tmp9_;
	_tmp11_ = util_json_str (_tmp10_, "", holder);
	_tmp12_ = _tmp11_;
	_g_object_unref0 (_tmp10_);
	result = _tmp12_;
	_g_object_unref0 (holder);
	return result;
}


gchar* util_json_quote (utilJson* self, const gchar* str) {
	gchar* result = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (str != NULL, NULL);
	_tmp0_ = str;
	_tmp1_ = g_strconcat ("\"", _tmp0_, NULL);
	_tmp2_ = _tmp1_;
	_tmp3_ = g_strconcat (_tmp2_, "\"", NULL);
	_tmp4_ = _tmp3_;
	_g_free0 (_tmp2_);
	result = _tmp4_;
	return result;
}


utilJsVariant* util_json_getItem (utilJson* self, utilJsVariant* holder, const gchar* key) {
	utilJsVariant* result = NULL;
	utilJsVariant* _tmp0_ = NULL;
	utilJsType _tmp1_ = 0;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (holder != NULL, NULL);
	g_return_val_if_fail (key != NULL, NULL);
	_tmp0_ = holder;
	_tmp1_ = _tmp0_->type;
	switch (_tmp1_) {
		case UTIL_JS_TYPE_JS_ARRAY:
		{
			utilJsVariant* _tmp2_ = NULL;
			GList* _tmp3_ = NULL;
			const gchar* _tmp4_ = NULL;
			gint _tmp5_ = 0;
			gconstpointer _tmp6_ = NULL;
			utilJsVariant* _tmp7_ = NULL;
			_tmp2_ = holder;
			_tmp3_ = _tmp2_->array;
			_tmp4_ = key;
			_tmp5_ = atoi (_tmp4_);
			_tmp6_ = g_list_nth_data (_tmp3_, (guint) _tmp5_);
			_tmp7_ = _g_object_ref0 ((utilJsVariant*) _tmp6_);
			result = _tmp7_;
			return result;
		}
		case UTIL_JS_TYPE_JS_OBJECT:
		{
			utilJsVariant* _tmp8_ = NULL;
			GHashTable* _tmp9_ = NULL;
			const gchar* _tmp10_ = NULL;
			gconstpointer _tmp11_ = NULL;
			utilJsVariant* _tmp12_ = NULL;
			_tmp8_ = holder;
			_tmp9_ = _tmp8_->object;
			_tmp10_ = key;
			_tmp11_ = g_hash_table_lookup (_tmp9_, _tmp10_);
			_tmp12_ = _g_object_ref0 ((utilJsVariant*) _tmp11_);
			result = _tmp12_;
			return result;
		}
		default:
		{
			result = NULL;
			return result;
		}
	}
}


static gchar* double_to_string (gdouble self) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gint _tmp1__length1 = 0;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	_tmp0_ = g_new0 (gchar, G_ASCII_DTOSTR_BUF_SIZE);
	_tmp1_ = _tmp0_;
	_tmp1__length1 = G_ASCII_DTOSTR_BUF_SIZE;
	_tmp2_ = g_ascii_dtostr (_tmp1_, G_ASCII_DTOSTR_BUF_SIZE, self);
	_tmp3_ = g_strdup (_tmp2_);
	_tmp4_ = _tmp3_;
	_tmp1_ = (g_free (_tmp1_), NULL);
	result = _tmp4_;
	return result;
}


static gchar* bool_to_string (gboolean self) {
	gchar* result = NULL;
	if (self) {
		gchar* _tmp0_ = NULL;
		_tmp0_ = g_strdup ("true");
		result = _tmp0_;
		return result;
	} else {
		gchar* _tmp1_ = NULL;
		_tmp1_ = g_strdup ("false");
		result = _tmp1_;
		return result;
	}
}


static gchar* _vala_g_strjoinv (const gchar* separator, gchar** str_array, int str_array_length1) {
	gchar* result = NULL;
	const gchar* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gchar** _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	_tmp0_ = separator;
	if (_tmp0_ == NULL) {
		separator = "";
	}
	_tmp3_ = str_array;
	_tmp3__length1 = str_array_length1;
	if (_tmp3_ != NULL) {
		_tmp2_ = TRUE;
	} else {
		gchar** _tmp4_ = NULL;
		gint _tmp4__length1 = 0;
		_tmp4_ = str_array;
		_tmp4__length1 = str_array_length1;
		_tmp2_ = _tmp4__length1 > 0;
	}
	if (_tmp2_) {
		_tmp1_ = TRUE;
	} else {
		gboolean _tmp5_ = FALSE;
		gchar** _tmp6_ = NULL;
		gint _tmp6__length1 = 0;
		_tmp6_ = str_array;
		_tmp6__length1 = str_array_length1;
		if (_tmp6__length1 == -1) {
			gchar** _tmp7_ = NULL;
			gint _tmp7__length1 = 0;
			const gchar* _tmp8_ = NULL;
			_tmp7_ = str_array;
			_tmp7__length1 = str_array_length1;
			_tmp8_ = _tmp7_[0];
			_tmp5_ = _tmp8_ != NULL;
		} else {
			_tmp5_ = FALSE;
		}
		_tmp1_ = _tmp5_;
	}
	if (_tmp1_) {
		gint i = 0;
		gsize len = 0UL;
		gint _tmp31_ = 0;
		gint _tmp33_ = 0;
		gint _tmp34_ = 0;
		gsize _tmp35_ = 0UL;
		const gchar* _tmp36_ = NULL;
		gint _tmp37_ = 0;
		gint _tmp38_ = 0;
		gint _tmp39_ = 0;
		const gchar* res = NULL;
		gsize _tmp40_ = 0UL;
		void* _tmp41_ = NULL;
		void* ptr = NULL;
		const gchar* _tmp42_ = NULL;
		gchar** _tmp43_ = NULL;
		gint _tmp43__length1 = 0;
		const gchar* _tmp44_ = NULL;
		void* _tmp45_ = NULL;
		const gchar* _tmp62_ = NULL;
		len = (gsize) 1;
		{
			gboolean _tmp9_ = FALSE;
			i = 0;
			_tmp9_ = TRUE;
			while (TRUE) {
				gboolean _tmp11_ = FALSE;
				gboolean _tmp12_ = FALSE;
				gchar** _tmp13_ = NULL;
				gint _tmp13__length1 = 0;
				gint _tmp21_ = 0;
				gchar** _tmp22_ = NULL;
				gint _tmp22__length1 = 0;
				gint _tmp23_ = 0;
				const gchar* _tmp24_ = NULL;
				gsize _tmp30_ = 0UL;
				if (!_tmp9_) {
					gint _tmp10_ = 0;
					_tmp10_ = i;
					i = _tmp10_ + 1;
				}
				_tmp9_ = FALSE;
				_tmp13_ = str_array;
				_tmp13__length1 = str_array_length1;
				if (_tmp13__length1 != -1) {
					gint _tmp14_ = 0;
					gchar** _tmp15_ = NULL;
					gint _tmp15__length1 = 0;
					_tmp14_ = i;
					_tmp15_ = str_array;
					_tmp15__length1 = str_array_length1;
					_tmp12_ = _tmp14_ < _tmp15__length1;
				} else {
					_tmp12_ = FALSE;
				}
				if (_tmp12_) {
					_tmp11_ = TRUE;
				} else {
					gboolean _tmp16_ = FALSE;
					gchar** _tmp17_ = NULL;
					gint _tmp17__length1 = 0;
					_tmp17_ = str_array;
					_tmp17__length1 = str_array_length1;
					if (_tmp17__length1 == -1) {
						gchar** _tmp18_ = NULL;
						gint _tmp18__length1 = 0;
						gint _tmp19_ = 0;
						const gchar* _tmp20_ = NULL;
						_tmp18_ = str_array;
						_tmp18__length1 = str_array_length1;
						_tmp19_ = i;
						_tmp20_ = _tmp18_[_tmp19_];
						_tmp16_ = _tmp20_ != NULL;
					} else {
						_tmp16_ = FALSE;
					}
					_tmp11_ = _tmp16_;
				}
				if (!_tmp11_) {
					break;
				}
				_tmp22_ = str_array;
				_tmp22__length1 = str_array_length1;
				_tmp23_ = i;
				_tmp24_ = _tmp22_[_tmp23_];
				if (_tmp24_ != NULL) {
					gchar** _tmp25_ = NULL;
					gint _tmp25__length1 = 0;
					gint _tmp26_ = 0;
					const gchar* _tmp27_ = NULL;
					gint _tmp28_ = 0;
					gint _tmp29_ = 0;
					_tmp25_ = str_array;
					_tmp25__length1 = str_array_length1;
					_tmp26_ = i;
					_tmp27_ = _tmp25_[_tmp26_];
					_tmp28_ = strlen ((const gchar*) _tmp27_);
					_tmp29_ = _tmp28_;
					_tmp21_ = _tmp29_;
				} else {
					_tmp21_ = 0;
				}
				_tmp30_ = len;
				len = _tmp30_ + _tmp21_;
			}
		}
		_tmp31_ = i;
		if (_tmp31_ == 0) {
			gchar* _tmp32_ = NULL;
			_tmp32_ = g_strdup ("");
			result = _tmp32_;
			return result;
		}
		_tmp33_ = i;
		str_array_length1 = _tmp33_;
		_tmp34_ = str_array_length1;
		_tmp35_ = len;
		_tmp36_ = separator;
		_tmp37_ = strlen ((const gchar*) _tmp36_);
		_tmp38_ = _tmp37_;
		_tmp39_ = i;
		len = _tmp35_ + (_tmp38_ * (_tmp39_ - 1));
		_tmp40_ = len;
		_tmp41_ = g_malloc (_tmp40_);
		res = _tmp41_;
		_tmp42_ = res;
		_tmp43_ = str_array;
		_tmp43__length1 = str_array_length1;
		_tmp44_ = _tmp43_[0];
		_tmp45_ = g_stpcpy ((void*) _tmp42_, (const gchar*) _tmp44_);
		ptr = _tmp45_;
		{
			gboolean _tmp46_ = FALSE;
			i = 1;
			_tmp46_ = TRUE;
			while (TRUE) {
				gint _tmp48_ = 0;
				gchar** _tmp49_ = NULL;
				gint _tmp49__length1 = 0;
				void* _tmp50_ = NULL;
				const gchar* _tmp51_ = NULL;
				void* _tmp52_ = NULL;
				const gchar* _tmp53_ = NULL;
				gchar** _tmp54_ = NULL;
				gint _tmp54__length1 = 0;
				gint _tmp55_ = 0;
				const gchar* _tmp56_ = NULL;
				void* _tmp60_ = NULL;
				void* _tmp61_ = NULL;
				if (!_tmp46_) {
					gint _tmp47_ = 0;
					_tmp47_ = i;
					i = _tmp47_ + 1;
				}
				_tmp46_ = FALSE;
				_tmp48_ = i;
				_tmp49_ = str_array;
				_tmp49__length1 = str_array_length1;
				if (!(_tmp48_ < _tmp49__length1)) {
					break;
				}
				_tmp50_ = ptr;
				_tmp51_ = separator;
				_tmp52_ = g_stpcpy (_tmp50_, (const gchar*) _tmp51_);
				ptr = _tmp52_;
				_tmp54_ = str_array;
				_tmp54__length1 = str_array_length1;
				_tmp55_ = i;
				_tmp56_ = _tmp54_[_tmp55_];
				if (_tmp56_ != NULL) {
					gchar** _tmp57_ = NULL;
					gint _tmp57__length1 = 0;
					gint _tmp58_ = 0;
					const gchar* _tmp59_ = NULL;
					_tmp57_ = str_array;
					_tmp57__length1 = str_array_length1;
					_tmp58_ = i;
					_tmp59_ = _tmp57_[_tmp58_];
					_tmp53_ = (const gchar*) _tmp59_;
				} else {
					_tmp53_ = "";
				}
				_tmp60_ = ptr;
				_tmp61_ = g_stpcpy (_tmp60_, _tmp53_);
				ptr = _tmp61_;
			}
		}
		_tmp62_ = res;
		res = NULL;
		result = (gchar*) _tmp62_;
		return result;
	} else {
		gchar* _tmp63_ = NULL;
		_tmp63_ = g_strdup ("");
		result = _tmp63_;
		return result;
	}
}


gchar* util_json_str (utilJson* self, const gchar* key, utilJsVariant* holder) {
	gchar* result = NULL;
	gint length = 0;
	gchar* mind = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	utilJsVariant* value = NULL;
	utilJsVariant* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	utilJsVariant* _tmp4_ = NULL;
	utilJsDelegate _tmp5_ = NULL;
	void* _tmp5__target = NULL;
	utilJsVariant* _tmp11_ = NULL;
	utilJsType _tmp12_ = 0;
	gchar* _tmp147_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (key != NULL, NULL);
	g_return_val_if_fail (holder != NULL, NULL);
	length = 0;
	_tmp0_ = util_json_gap;
	_tmp1_ = g_strdup (_tmp0_);
	mind = _tmp1_;
	_tmp2_ = holder;
	_tmp3_ = key;
	_tmp4_ = util_json_getItem (self, _tmp2_, _tmp3_);
	value = _tmp4_;
	_tmp5_ = self->replacer;
	_tmp5__target = self->replacer_target;
	if (_tmp5_ != NULL) {
		utilJsDelegate _tmp6_ = NULL;
		void* _tmp6__target = NULL;
		utilJsVariant* _tmp7_ = NULL;
		const gchar* _tmp8_ = NULL;
		utilJsVariant* _tmp9_ = NULL;
		utilJsVariant* _tmp10_ = NULL;
		_tmp6_ = self->replacer;
		_tmp6__target = self->replacer_target;
		_tmp7_ = holder;
		_tmp8_ = key;
		_tmp9_ = value;
		_tmp10_ = _tmp6_ (_tmp7_, _tmp8_, _tmp9_, _tmp6__target);
		_g_object_unref0 (value);
		value = _tmp10_;
	}
	_tmp11_ = value;
	_tmp12_ = _tmp11_->type;
	switch (_tmp12_) {
		case UTIL_JS_TYPE_JS_STRING:
		{
			utilJsVariant* _tmp13_ = NULL;
			const gchar* _tmp14_ = NULL;
			gchar* _tmp15_ = NULL;
			_tmp13_ = value;
			_tmp14_ = _tmp13_->string;
			_tmp15_ = util_json_quote (self, _tmp14_);
			result = _tmp15_;
			_g_object_unref0 (value);
			_g_free0 (mind);
			return result;
		}
		case UTIL_JS_TYPE_JS_NUMBER:
		{
			utilJsVariant* _tmp16_ = NULL;
			gdouble _tmp17_ = 0.0;
			gchar* _tmp18_ = NULL;
			_tmp16_ = value;
			_tmp17_ = _tmp16_->number;
			_tmp18_ = double_to_string (_tmp17_);
			result = _tmp18_;
			_g_object_unref0 (value);
			_g_free0 (mind);
			return result;
		}
		case UTIL_JS_TYPE_JS_BOOLEAN:
		{
			utilJsVariant* _tmp19_ = NULL;
			gboolean _tmp20_ = FALSE;
			gchar* _tmp21_ = NULL;
			_tmp19_ = value;
			_tmp20_ = _tmp19_->boolean;
			_tmp21_ = bool_to_string (_tmp20_);
			result = _tmp21_;
			_g_object_unref0 (value);
			_g_free0 (mind);
			return result;
		}
		case UTIL_JS_TYPE_JS_OBJECT:
		{
			utilJsVariant* _tmp22_ = NULL;
			GHashTable* _tmp23_ = NULL;
			const gchar* _tmp25_ = NULL;
			const gchar* _tmp26_ = NULL;
			gchar* _tmp27_ = NULL;
			utilJsVariant* _tmp28_ = NULL;
			GHashTable* _tmp29_ = NULL;
			guint _tmp30_ = 0U;
			gchar** partial = NULL;
			gint _tmp31_ = 0;
			gchar** _tmp32_ = NULL;
			gint partial_length1 = 0;
			gint _partial_size_ = 0;
			const gchar** keys = NULL;
			utilJsVariant* _tmp33_ = NULL;
			GHashTable* _tmp34_ = NULL;
			gint _tmp35_ = 0;
			gconstpointer* _tmp36_ = NULL;
			gint keys_length1 = 0;
			gint _keys_size_ = 0;
			gchar* v = NULL;
			gchar* _tmp62_ = NULL;
			gchar** _tmp63_ = NULL;
			gint _tmp63__length1 = 0;
			const gchar* _tmp91_ = NULL;
			gchar* _tmp92_ = NULL;
			_tmp22_ = value;
			_tmp23_ = _tmp22_->object;
			if (_tmp23_ == NULL) {
				gchar* _tmp24_ = NULL;
				_tmp24_ = g_strdup ("null");
				result = _tmp24_;
				_g_object_unref0 (value);
				_g_free0 (mind);
				return result;
			}
			_tmp25_ = util_json_gap;
			_tmp26_ = util_json_indent;
			_tmp27_ = g_strconcat (_tmp25_, _tmp26_, NULL);
			_g_free0 (util_json_gap);
			util_json_gap = _tmp27_;
			_tmp28_ = value;
			_tmp29_ = _tmp28_->object;
			_tmp30_ = g_hash_table_size (_tmp29_);
			length = (gint) _tmp30_;
			_tmp31_ = length;
			_tmp32_ = g_new0 (gchar*, _tmp31_ + 1);
			partial = _tmp32_;
			partial_length1 = _tmp31_;
			_partial_size_ = partial_length1;
			_tmp33_ = value;
			_tmp34_ = _tmp33_->object;
			_tmp36_ = g_hash_table_get_keys_as_array (_tmp34_, &_tmp35_);
			keys = _tmp36_;
			keys_length1 = _tmp35_;
			_keys_size_ = keys_length1;
			{
				gint i = 0;
				i = 0;
				{
					gboolean _tmp37_ = FALSE;
					_tmp37_ = TRUE;
					while (TRUE) {
						gint _tmp39_ = 0;
						const gchar** _tmp40_ = NULL;
						gint _tmp40__length1 = 0;
						gchar* k = NULL;
						const gchar** _tmp41_ = NULL;
						gint _tmp41__length1 = 0;
						gint _tmp42_ = 0;
						const gchar* _tmp43_ = NULL;
						gchar* _tmp44_ = NULL;
						const gchar* _tmp45_ = NULL;
						const gchar* _tmp46_ = NULL;
						gint _tmp47_ = 0;
						gint _tmp48_ = 0;
						gchar** _tmp49_ = NULL;
						gint _tmp49__length1 = 0;
						gint _tmp50_ = 0;
						const gchar* _tmp51_ = NULL;
						gchar* _tmp52_ = NULL;
						gchar* _tmp53_ = NULL;
						gchar* _tmp54_ = NULL;
						gchar* _tmp55_ = NULL;
						const gchar* _tmp56_ = NULL;
						utilJsVariant* _tmp57_ = NULL;
						gchar* _tmp58_ = NULL;
						gchar* _tmp59_ = NULL;
						gchar* _tmp60_ = NULL;
						gchar* _tmp61_ = NULL;
						if (!_tmp37_) {
							gint _tmp38_ = 0;
							_tmp38_ = i;
							i = _tmp38_ + 1;
						}
						_tmp37_ = FALSE;
						_tmp39_ = i;
						_tmp40_ = keys;
						_tmp40__length1 = keys_length1;
						if (!(_tmp39_ < _tmp40__length1)) {
							break;
						}
						_tmp41_ = keys;
						_tmp41__length1 = keys_length1;
						_tmp42_ = i;
						_tmp43_ = _tmp41_[_tmp42_];
						_tmp44_ = g_strdup (_tmp43_);
						k = _tmp44_;
						_tmp46_ = util_json_gap;
						_tmp47_ = strlen (_tmp46_);
						_tmp48_ = _tmp47_;
						if (_tmp48_ > 0) {
							_tmp45_ = ": ";
						} else {
							_tmp45_ = ":";
						}
						_tmp49_ = partial;
						_tmp49__length1 = partial_length1;
						_tmp50_ = i;
						_tmp51_ = k;
						_tmp52_ = util_json_quote (self, _tmp51_);
						_tmp53_ = _tmp52_;
						_tmp54_ = g_strconcat (_tmp53_, _tmp45_, NULL);
						_tmp55_ = _tmp54_;
						_tmp56_ = k;
						_tmp57_ = value;
						_tmp58_ = util_json_str (self, _tmp56_, _tmp57_);
						_tmp59_ = _tmp58_;
						_tmp60_ = g_strconcat (_tmp55_, _tmp59_, NULL);
						_g_free0 (_tmp49_[_tmp50_]);
						_tmp49_[_tmp50_] = _tmp60_;
						_tmp61_ = _tmp49_[_tmp50_];
						_g_free0 (_tmp59_);
						_g_free0 (_tmp55_);
						_g_free0 (_tmp53_);
						_g_free0 (k);
					}
				}
			}
			_tmp62_ = g_strdup ("");
			v = _tmp62_;
			_tmp63_ = partial;
			_tmp63__length1 = partial_length1;
			if (_tmp63__length1 == 0) {
				gchar* _tmp64_ = NULL;
				_tmp64_ = g_strdup ("{}");
				_g_free0 (v);
				v = _tmp64_;
			} else {
				const gchar* _tmp65_ = NULL;
				gint _tmp66_ = 0;
				gint _tmp67_ = 0;
				_tmp65_ = util_json_gap;
				_tmp66_ = strlen (_tmp65_);
				_tmp67_ = _tmp66_;
				if (_tmp67_ > 0) {
					const gchar* _tmp68_ = NULL;
					gchar* _tmp69_ = NULL;
					gchar* _tmp70_ = NULL;
					const gchar* _tmp71_ = NULL;
					gchar* _tmp72_ = NULL;
					gchar* _tmp73_ = NULL;
					gchar** _tmp74_ = NULL;
					gint _tmp74__length1 = 0;
					gchar* _tmp75_ = NULL;
					gchar* _tmp76_ = NULL;
					gchar* _tmp77_ = NULL;
					gchar* _tmp78_ = NULL;
					gchar* _tmp79_ = NULL;
					gchar* _tmp80_ = NULL;
					const gchar* _tmp81_ = NULL;
					gchar* _tmp82_ = NULL;
					gchar* _tmp83_ = NULL;
					gchar* _tmp84_ = NULL;
					_tmp68_ = util_json_gap;
					_tmp69_ = g_strconcat ("{\n", _tmp68_, NULL);
					_tmp70_ = _tmp69_;
					_tmp71_ = util_json_gap;
					_tmp72_ = g_strconcat (",\n", _tmp71_, NULL);
					_tmp73_ = _tmp72_;
					_tmp74_ = partial;
					_tmp74__length1 = partial_length1;
					_tmp75_ = _vala_g_strjoinv (_tmp73_, _tmp74_, _tmp74__length1);
					_tmp76_ = _tmp75_;
					_tmp77_ = g_strconcat (_tmp70_, _tmp76_, NULL);
					_tmp78_ = _tmp77_;
					_tmp79_ = g_strconcat (_tmp78_, "\n", NULL);
					_tmp80_ = _tmp79_;
					_tmp81_ = mind;
					_tmp82_ = g_strconcat (_tmp80_, _tmp81_, NULL);
					_tmp83_ = _tmp82_;
					_tmp84_ = g_strconcat (_tmp83_, "}", NULL);
					_g_free0 (v);
					v = _tmp84_;
					_g_free0 (_tmp83_);
					_g_free0 (_tmp80_);
					_g_free0 (_tmp78_);
					_g_free0 (_tmp76_);
					_g_free0 (_tmp73_);
					_g_free0 (_tmp70_);
				} else {
					gchar** _tmp85_ = NULL;
					gint _tmp85__length1 = 0;
					gchar* _tmp86_ = NULL;
					gchar* _tmp87_ = NULL;
					gchar* _tmp88_ = NULL;
					gchar* _tmp89_ = NULL;
					gchar* _tmp90_ = NULL;
					_tmp85_ = partial;
					_tmp85__length1 = partial_length1;
					_tmp86_ = _vala_g_strjoinv (",", _tmp85_, _tmp85__length1);
					_tmp87_ = _tmp86_;
					_tmp88_ = g_strconcat ("{", _tmp87_, NULL);
					_tmp89_ = _tmp88_;
					_tmp90_ = g_strconcat (_tmp89_, "}", NULL);
					_g_free0 (v);
					v = _tmp90_;
					_g_free0 (_tmp89_);
					_g_free0 (_tmp87_);
				}
			}
			_tmp91_ = mind;
			_tmp92_ = g_strdup (_tmp91_);
			_g_free0 (util_json_gap);
			util_json_gap = _tmp92_;
			result = v;
			keys = (g_free (keys), NULL);
			partial = (_vala_array_free (partial, partial_length1, (GDestroyNotify) g_free), NULL);
			_g_object_unref0 (value);
			_g_free0 (mind);
			return result;
		}
		case UTIL_JS_TYPE_JS_ARRAY:
		{
			utilJsVariant* _tmp93_ = NULL;
			GList* _tmp94_ = NULL;
			const gchar* _tmp96_ = NULL;
			const gchar* _tmp97_ = NULL;
			gchar* _tmp98_ = NULL;
			utilJsVariant* _tmp99_ = NULL;
			GList* _tmp100_ = NULL;
			guint _tmp101_ = 0U;
			gchar** partial = NULL;
			gint _tmp102_ = 0;
			gchar** _tmp103_ = NULL;
			gint partial_length1 = 0;
			gint _partial_size_ = 0;
			gchar* v = NULL;
			gchar* _tmp116_ = NULL;
			gchar** _tmp117_ = NULL;
			gint _tmp117__length1 = 0;
			const gchar* _tmp145_ = NULL;
			gchar* _tmp146_ = NULL;
			_tmp93_ = value;
			_tmp94_ = _tmp93_->array;
			if (_tmp94_ == NULL) {
				gchar* _tmp95_ = NULL;
				_tmp95_ = g_strdup ("null");
				result = _tmp95_;
				_g_object_unref0 (value);
				_g_free0 (mind);
				return result;
			}
			_tmp96_ = util_json_gap;
			_tmp97_ = util_json_indent;
			_tmp98_ = g_strconcat (_tmp96_, _tmp97_, NULL);
			_g_free0 (util_json_gap);
			util_json_gap = _tmp98_;
			_tmp99_ = value;
			_tmp100_ = _tmp99_->array;
			_tmp101_ = g_list_length (_tmp100_);
			length = (gint) _tmp101_;
			_tmp102_ = length;
			_tmp103_ = g_new0 (gchar*, _tmp102_ + 1);
			partial = _tmp103_;
			partial_length1 = _tmp102_;
			_partial_size_ = partial_length1;
			{
				gint i = 0;
				i = 0;
				{
					gboolean _tmp104_ = FALSE;
					_tmp104_ = TRUE;
					while (TRUE) {
						gint _tmp106_ = 0;
						gint _tmp107_ = 0;
						gchar** _tmp108_ = NULL;
						gint _tmp108__length1 = 0;
						gint _tmp109_ = 0;
						gint _tmp110_ = 0;
						gchar* _tmp111_ = NULL;
						gchar* _tmp112_ = NULL;
						utilJsVariant* _tmp113_ = NULL;
						gchar* _tmp114_ = NULL;
						gchar* _tmp115_ = NULL;
						if (!_tmp104_) {
							gint _tmp105_ = 0;
							_tmp105_ = i;
							i = _tmp105_ + 1;
						}
						_tmp104_ = FALSE;
						_tmp106_ = i;
						_tmp107_ = length;
						if (!(_tmp106_ < _tmp107_)) {
							break;
						}
						_tmp108_ = partial;
						_tmp108__length1 = partial_length1;
						_tmp109_ = i;
						_tmp110_ = i;
						_tmp111_ = g_strdup_printf ("%i", _tmp110_);
						_tmp112_ = _tmp111_;
						_tmp113_ = value;
						_tmp114_ = util_json_str (self, _tmp112_, _tmp113_);
						_g_free0 (_tmp108_[_tmp109_]);
						_tmp108_[_tmp109_] = _tmp114_;
						_tmp115_ = _tmp108_[_tmp109_];
						_g_free0 (_tmp112_);
					}
				}
			}
			_tmp116_ = g_strdup ("");
			v = _tmp116_;
			_tmp117_ = partial;
			_tmp117__length1 = partial_length1;
			if (_tmp117__length1 == 0) {
				gchar* _tmp118_ = NULL;
				_tmp118_ = g_strdup ("[]");
				_g_free0 (v);
				v = _tmp118_;
			} else {
				const gchar* _tmp119_ = NULL;
				gint _tmp120_ = 0;
				gint _tmp121_ = 0;
				_tmp119_ = util_json_gap;
				_tmp120_ = strlen (_tmp119_);
				_tmp121_ = _tmp120_;
				if (_tmp121_ > 0) {
					const gchar* _tmp122_ = NULL;
					gchar* _tmp123_ = NULL;
					gchar* _tmp124_ = NULL;
					const gchar* _tmp125_ = NULL;
					gchar* _tmp126_ = NULL;
					gchar* _tmp127_ = NULL;
					gchar** _tmp128_ = NULL;
					gint _tmp128__length1 = 0;
					gchar* _tmp129_ = NULL;
					gchar* _tmp130_ = NULL;
					gchar* _tmp131_ = NULL;
					gchar* _tmp132_ = NULL;
					gchar* _tmp133_ = NULL;
					gchar* _tmp134_ = NULL;
					const gchar* _tmp135_ = NULL;
					gchar* _tmp136_ = NULL;
					gchar* _tmp137_ = NULL;
					gchar* _tmp138_ = NULL;
					_tmp122_ = util_json_gap;
					_tmp123_ = g_strconcat ("[\n", _tmp122_, NULL);
					_tmp124_ = _tmp123_;
					_tmp125_ = util_json_gap;
					_tmp126_ = g_strconcat (",\n", _tmp125_, NULL);
					_tmp127_ = _tmp126_;
					_tmp128_ = partial;
					_tmp128__length1 = partial_length1;
					_tmp129_ = _vala_g_strjoinv (_tmp127_, _tmp128_, _tmp128__length1);
					_tmp130_ = _tmp129_;
					_tmp131_ = g_strconcat (_tmp124_, _tmp130_, NULL);
					_tmp132_ = _tmp131_;
					_tmp133_ = g_strconcat (_tmp132_, "\n", NULL);
					_tmp134_ = _tmp133_;
					_tmp135_ = mind;
					_tmp136_ = g_strconcat (_tmp134_, _tmp135_, NULL);
					_tmp137_ = _tmp136_;
					_tmp138_ = g_strconcat (_tmp137_, "]", NULL);
					_g_free0 (v);
					v = _tmp138_;
					_g_free0 (_tmp137_);
					_g_free0 (_tmp134_);
					_g_free0 (_tmp132_);
					_g_free0 (_tmp130_);
					_g_free0 (_tmp127_);
					_g_free0 (_tmp124_);
				} else {
					gchar** _tmp139_ = NULL;
					gint _tmp139__length1 = 0;
					gchar* _tmp140_ = NULL;
					gchar* _tmp141_ = NULL;
					gchar* _tmp142_ = NULL;
					gchar* _tmp143_ = NULL;
					gchar* _tmp144_ = NULL;
					_tmp139_ = partial;
					_tmp139__length1 = partial_length1;
					_tmp140_ = _vala_g_strjoinv (",", _tmp139_, _tmp139__length1);
					_tmp141_ = _tmp140_;
					_tmp142_ = g_strconcat ("[", _tmp141_, NULL);
					_tmp143_ = _tmp142_;
					_tmp144_ = g_strconcat (_tmp143_, "]", NULL);
					_g_free0 (v);
					v = _tmp144_;
					_g_free0 (_tmp143_);
					_g_free0 (_tmp141_);
				}
			}
			_tmp145_ = mind;
			_tmp146_ = g_strdup (_tmp145_);
			_g_free0 (util_json_gap);
			util_json_gap = _tmp146_;
			result = v;
			partial = (_vala_array_free (partial, partial_length1, (GDestroyNotify) g_free), NULL);
			_g_object_unref0 (value);
			_g_free0 (mind);
			return result;
		}
		default:
		break;
	}
	_tmp147_ = g_strdup ("");
	result = _tmp147_;
	_g_object_unref0 (value);
	_g_free0 (mind);
	return result;
}


utilJsVariant* util_json_parseJson (utilJson* self, const gchar* source) {
	utilJsVariant* result = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	utilJsVariant* _result_ = NULL;
	utilJsVariant* _tmp2_ = NULL;
	gchar _tmp3_ = '\0';
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (source != NULL, NULL);
	_tmp0_ = source;
	_tmp1_ = g_strdup (_tmp0_);
	_g_free0 (self->text);
	self->text = _tmp1_;
	self->at = 0;
	self->ch = ' ';
	_tmp2_ = util_json_getValue (self);
	_result_ = _tmp2_;
	util_json_skipWhite (self);
	_tmp3_ = self->ch;
	if (((gint) _tmp3_) != 0) {
		GError* _tmp4_ = NULL;
		_tmp4_ = g_error_new_literal (UTIL_JSON_EXCEPTION, UTIL_JSON_EXCEPTION_SyntaxError, "");
		_inner_error_ = _tmp4_;
		_g_object_unref0 (_result_);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return NULL;
	}
	result = _result_;
	return result;
}


static gboolean _g_ascii_equal (const gchar* s1, const gchar* s2) {
	if (s1 == s2) {
		return TRUE;
	}
	if (s1 == NULL) {
		return FALSE;
	}
	if (s2 == NULL) {
		return FALSE;
	}
	return (*s1) == (*s2);
}


static gchar string_get (const gchar* self, glong index) {
	gchar result = '\0';
	glong _tmp0_ = 0L;
	gchar _tmp1_ = '\0';
	g_return_val_if_fail (self != NULL, '\0');
	_tmp0_ = index;
	_tmp1_ = ((gchar*) self)[_tmp0_];
	result = _tmp1_;
	return result;
}


gchar util_json_next (utilJson* self, gchar* c) {
	gchar result = '\0';
	gboolean _tmp0_ = FALSE;
	gchar* _tmp1_ = NULL;
	const gchar* _tmp21_ = NULL;
	gint _tmp22_ = 0;
	gchar _tmp23_ = '\0';
	gint _tmp24_ = 0;
	gchar _tmp25_ = '\0';
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, '\0');
	_tmp1_ = c;
	if (_tmp1_ != NULL) {
		gchar* _tmp2_ = NULL;
		gchar _tmp3_ = '\0';
		_tmp2_ = c;
		_tmp3_ = self->ch;
		_tmp0_ = _g_ascii_equal (_tmp2_, &_tmp3_) != TRUE;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		gchar* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
		gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
		gchar* _tmp10_ = NULL;
		gchar _tmp11_ = '\0';
		gchar* _tmp12_ = NULL;
		gchar* _tmp13_ = NULL;
		gchar* _tmp14_ = NULL;
		gchar* _tmp15_ = NULL;
		gchar* _tmp16_ = NULL;
		gchar* _tmp17_ = NULL;
		GError* _tmp18_ = NULL;
		GError* _tmp19_ = NULL;
		gchar _tmp20_ = '\0';
		_tmp4_ = c;
		_tmp5_ = g_strdup_printf ("%c", *_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = g_strconcat ("Expected '", _tmp6_, NULL);
		_tmp8_ = _tmp7_;
		_tmp9_ = g_strconcat (_tmp8_, "' instead of '", NULL);
		_tmp10_ = _tmp9_;
		_tmp11_ = self->ch;
		_tmp12_ = g_strdup_printf ("%c", _tmp11_);
		_tmp13_ = _tmp12_;
		_tmp14_ = g_strconcat (_tmp10_, _tmp13_, NULL);
		_tmp15_ = _tmp14_;
		_tmp16_ = g_strconcat (_tmp15_, "'", NULL);
		_tmp17_ = _tmp16_;
		_tmp18_ = g_error_new_literal (UTIL_JSON_EXCEPTION, UTIL_JSON_EXCEPTION_UnexpectedCharacter, _tmp17_);
		_tmp19_ = _tmp18_;
		_g_free0 (_tmp17_);
		_g_free0 (_tmp15_);
		_g_free0 (_tmp13_);
		_g_free0 (_tmp10_);
		_g_free0 (_tmp8_);
		_g_free0 (_tmp6_);
		_inner_error_ = _tmp19_;
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return _tmp20_;
	}
	_tmp21_ = self->text;
	_tmp22_ = self->at;
	_tmp23_ = string_get (_tmp21_, (glong) _tmp22_);
	self->ch = _tmp23_;
	_tmp24_ = self->at;
	self->at = _tmp24_ + 1;
	_tmp25_ = self->ch;
	result = _tmp25_;
	return result;
}


utilJsVariant* util_json_getValue (utilJson* self) {
	utilJsVariant* result = NULL;
	gchar _tmp0_ = '\0';
	g_return_val_if_fail (self != NULL, NULL);
	util_json_skipWhite (self);
	_tmp0_ = self->ch;
	switch (_tmp0_) {
		case '{':
		{
			utilJsVariant* _tmp1_ = NULL;
			_tmp1_ = util_json_getObject (self);
			result = _tmp1_;
			return result;
		}
		case '[':
		{
			utilJsVariant* _tmp2_ = NULL;
			_tmp2_ = util_json_getArray (self);
			result = _tmp2_;
			return result;
		}
		case '\"':
		{
			utilJsVariant* _tmp3_ = NULL;
			_tmp3_ = util_json_getString (self);
			result = _tmp3_;
			return result;
		}
		case '-':
		{
			utilJsVariant* _tmp4_ = NULL;
			_tmp4_ = util_json_getNumber (self);
			result = _tmp4_;
			return result;
		}
		default:
		{
			utilJsVariant* _tmp5_ = NULL;
			gboolean _tmp6_ = FALSE;
			gchar _tmp7_ = '\0';
			_tmp7_ = self->ch;
			if (_tmp7_ >= '0') {
				gchar _tmp8_ = '\0';
				_tmp8_ = self->ch;
				_tmp6_ = _tmp8_ <= '9';
			} else {
				_tmp6_ = FALSE;
			}
			if (_tmp6_) {
				utilJsVariant* _tmp9_ = NULL;
				_tmp9_ = util_json_getNumber (self);
				_g_object_unref0 (_tmp5_);
				_tmp5_ = _tmp9_;
			} else {
				utilJsVariant* _tmp10_ = NULL;
				_tmp10_ = util_json_getWord (self);
				_g_object_unref0 (_tmp5_);
				_tmp5_ = _tmp10_;
			}
			result = _tmp5_;
			return result;
		}
	}
}


static gdouble double_parse (const gchar* str) {
	gdouble result = 0.0;
	const gchar* _tmp0_ = NULL;
	gdouble _tmp1_ = 0.0;
	g_return_val_if_fail (str != NULL, 0.0);
	_tmp0_ = str;
	_tmp1_ = g_ascii_strtod (_tmp0_, NULL);
	result = _tmp1_;
	return result;
}


utilJsVariant* util_json_getNumber (utilJson* self) {
	utilJsVariant* result = NULL;
	gchar* string = NULL;
	gchar* _tmp0_ = NULL;
	gchar _tmp1_ = '\0';
	gchar _tmp12_ = '\0';
	gboolean _tmp25_ = FALSE;
	gchar _tmp26_ = '\0';
	const gchar* _tmp49_ = NULL;
	gdouble _tmp50_ = 0.0;
	utilJsVariant* _tmp51_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = g_strdup ("");
	string = _tmp0_;
	_tmp1_ = self->ch;
	if (_tmp1_ == '-') {
		gchar* _tmp2_ = NULL;
		gchar _tmp3_ = '\0';
		_tmp2_ = g_strdup ("-");
		_g_free0 (string);
		string = _tmp2_;
		_tmp3_ = '-';
		util_json_next (self, &_tmp3_);
	}
	while (TRUE) {
		gboolean _tmp4_ = FALSE;
		gchar _tmp5_ = '\0';
		const gchar* _tmp7_ = NULL;
		gchar _tmp8_ = '\0';
		gchar* _tmp9_ = NULL;
		gchar* _tmp10_ = NULL;
		gchar* _tmp11_ = NULL;
		_tmp5_ = self->ch;
		if (_tmp5_ >= '0') {
			gchar _tmp6_ = '\0';
			_tmp6_ = self->ch;
			_tmp4_ = _tmp6_ <= '9';
		} else {
			_tmp4_ = FALSE;
		}
		if (!_tmp4_) {
			break;
		}
		_tmp7_ = string;
		_tmp8_ = self->ch;
		_tmp9_ = g_strdup_printf ("%c", _tmp8_);
		_tmp10_ = _tmp9_;
		_tmp11_ = g_strconcat (_tmp7_, _tmp10_, NULL);
		_g_free0 (string);
		string = _tmp11_;
		_g_free0 (_tmp10_);
		util_json_next (self, NULL);
	}
	_tmp12_ = self->ch;
	if (_tmp12_ == '.') {
		const gchar* _tmp13_ = NULL;
		gchar* _tmp14_ = NULL;
		_tmp13_ = string;
		_tmp14_ = g_strconcat (_tmp13_, ".", NULL);
		_g_free0 (string);
		string = _tmp14_;
		while (TRUE) {
			gboolean _tmp15_ = FALSE;
			gboolean _tmp16_ = FALSE;
			gchar _tmp17_ = '\0';
			const gchar* _tmp20_ = NULL;
			gchar _tmp21_ = '\0';
			gchar* _tmp22_ = NULL;
			gchar* _tmp23_ = NULL;
			gchar* _tmp24_ = NULL;
			_tmp17_ = util_json_next (self, NULL);
			if (((gint) _tmp17_) != 0) {
				gchar _tmp18_ = '\0';
				_tmp18_ = self->ch;
				_tmp16_ = _tmp18_ >= '0';
			} else {
				_tmp16_ = FALSE;
			}
			if (_tmp16_) {
				gchar _tmp19_ = '\0';
				_tmp19_ = self->ch;
				_tmp15_ = _tmp19_ <= '9';
			} else {
				_tmp15_ = FALSE;
			}
			if (!_tmp15_) {
				break;
			}
			_tmp20_ = string;
			_tmp21_ = self->ch;
			_tmp22_ = g_strdup_printf ("%c", _tmp21_);
			_tmp23_ = _tmp22_;
			_tmp24_ = g_strconcat (_tmp20_, _tmp23_, NULL);
			_g_free0 (string);
			string = _tmp24_;
			_g_free0 (_tmp23_);
		}
	}
	_tmp26_ = self->ch;
	if (_tmp26_ == 'e') {
		_tmp25_ = TRUE;
	} else {
		gchar _tmp27_ = '\0';
		_tmp27_ = self->ch;
		_tmp25_ = _tmp27_ == 'E';
	}
	if (_tmp25_) {
		const gchar* _tmp28_ = NULL;
		gchar _tmp29_ = '\0';
		gchar* _tmp30_ = NULL;
		gchar* _tmp31_ = NULL;
		gchar* _tmp32_ = NULL;
		gboolean _tmp33_ = FALSE;
		gchar _tmp34_ = '\0';
		_tmp28_ = string;
		_tmp29_ = self->ch;
		_tmp30_ = g_strdup_printf ("%c", _tmp29_);
		_tmp31_ = _tmp30_;
		_tmp32_ = g_strconcat (_tmp28_, _tmp31_, NULL);
		_g_free0 (string);
		string = _tmp32_;
		_g_free0 (_tmp31_);
		util_json_next (self, NULL);
		_tmp34_ = self->ch;
		if (_tmp34_ == '-') {
			_tmp33_ = TRUE;
		} else {
			gchar _tmp35_ = '\0';
			_tmp35_ = self->ch;
			_tmp33_ = _tmp35_ == '+';
		}
		if (_tmp33_) {
			const gchar* _tmp36_ = NULL;
			gchar _tmp37_ = '\0';
			gchar* _tmp38_ = NULL;
			gchar* _tmp39_ = NULL;
			gchar* _tmp40_ = NULL;
			_tmp36_ = string;
			_tmp37_ = self->ch;
			_tmp38_ = g_strdup_printf ("%c", _tmp37_);
			_tmp39_ = _tmp38_;
			_tmp40_ = g_strconcat (_tmp36_, _tmp39_, NULL);
			_g_free0 (string);
			string = _tmp40_;
			_g_free0 (_tmp39_);
			util_json_next (self, NULL);
		}
		while (TRUE) {
			gboolean _tmp41_ = FALSE;
			gchar _tmp42_ = '\0';
			const gchar* _tmp44_ = NULL;
			gchar _tmp45_ = '\0';
			gchar* _tmp46_ = NULL;
			gchar* _tmp47_ = NULL;
			gchar* _tmp48_ = NULL;
			_tmp42_ = self->ch;
			if (_tmp42_ >= '0') {
				gchar _tmp43_ = '\0';
				_tmp43_ = self->ch;
				_tmp41_ = _tmp43_ <= '9';
			} else {
				_tmp41_ = FALSE;
			}
			if (!_tmp41_) {
				break;
			}
			_tmp44_ = string;
			_tmp45_ = self->ch;
			_tmp46_ = g_strdup_printf ("%c", _tmp45_);
			_tmp47_ = _tmp46_;
			_tmp48_ = g_strconcat (_tmp44_, _tmp47_, NULL);
			_g_free0 (string);
			string = _tmp48_;
			_g_free0 (_tmp47_);
			util_json_next (self, NULL);
		}
	}
	_tmp49_ = string;
	_tmp50_ = double_parse (_tmp49_);
	_tmp51_ = util_js_variant_Number (_tmp50_);
	result = _tmp51_;
	_g_free0 (string);
	return result;
}


static gint string_index_of (const gchar* self, const gchar* needle, gint start_index) {
	gint result = 0;
	gchar* _result_ = NULL;
	gint _tmp0_ = 0;
	const gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (needle != NULL, 0);
	_tmp0_ = start_index;
	_tmp1_ = needle;
	_tmp2_ = strstr (((gchar*) self) + _tmp0_, (gchar*) _tmp1_);
	_result_ = _tmp2_;
	_tmp3_ = _result_;
	if (_tmp3_ != NULL) {
		gchar* _tmp4_ = NULL;
		_tmp4_ = _result_;
		result = (gint) (_tmp4_ - ((gchar*) self));
		return result;
	} else {
		result = -1;
		return result;
	}
}


static gint string_index_of_char (const gchar* self, gunichar c, gint start_index) {
	gint result = 0;
	gchar* _result_ = NULL;
	gint _tmp0_ = 0;
	gunichar _tmp1_ = 0U;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = start_index;
	_tmp1_ = c;
	_tmp2_ = g_utf8_strchr (((gchar*) self) + _tmp0_, (gssize) -1, _tmp1_);
	_result_ = _tmp2_;
	_tmp3_ = _result_;
	if (_tmp3_ != NULL) {
		gchar* _tmp4_ = NULL;
		_tmp4_ = _result_;
		result = (gint) (_tmp4_ - ((gchar*) self));
		return result;
	} else {
		result = -1;
		return result;
	}
}


utilJsVariant* util_json_getString (utilJson* self) {
	utilJsVariant* result = NULL;
	gint hex = 0;
	gint i = 0;
	gchar* string = NULL;
	gchar* _tmp0_ = NULL;
	gint uffff = 0;
	gchar _tmp1_ = '\0';
	GError* _tmp37_ = NULL;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	hex = 0;
	i = 0;
	_tmp0_ = g_strdup ("");
	string = _tmp0_;
	uffff = 0;
	_tmp1_ = self->ch;
	if (_tmp1_ == '\"') {
		while (TRUE) {
			gchar _tmp2_ = '\0';
			gchar _tmp3_ = '\0';
			gchar _tmp6_ = '\0';
			_tmp2_ = util_json_next (self, NULL);
			if (!(((gint) _tmp2_) != 0)) {
				break;
			}
			_tmp3_ = self->ch;
			if (_tmp3_ == '\"') {
				const gchar* _tmp4_ = NULL;
				utilJsVariant* _tmp5_ = NULL;
				util_json_next (self, NULL);
				_tmp4_ = string;
				_tmp5_ = util_js_variant_String (_tmp4_);
				result = _tmp5_;
				_g_free0 (string);
				return result;
			}
			_tmp6_ = self->ch;
			if (_tmp6_ == '\\') {
				gchar _tmp7_ = '\0';
				util_json_next (self, NULL);
				_tmp7_ = self->ch;
				if (_tmp7_ == 'u') {
					const gchar* _tmp20_ = NULL;
					gint _tmp21_ = 0;
					gchar* _tmp22_ = NULL;
					gchar* _tmp23_ = NULL;
					gchar* _tmp24_ = NULL;
					uffff = 0;
					{
						gboolean _tmp8_ = FALSE;
						i = 0;
						_tmp8_ = TRUE;
						while (TRUE) {
							gint _tmp10_ = 0;
							gchar _tmp11_ = '\0';
							gchar* _tmp12_ = NULL;
							gchar* _tmp13_ = NULL;
							gchar* _tmp14_ = NULL;
							gchar* _tmp15_ = NULL;
							gint _tmp16_ = 0;
							gint _tmp17_ = 0;
							gint _tmp18_ = 0;
							gint _tmp19_ = 0;
							if (!_tmp8_) {
								gint _tmp9_ = 0;
								_tmp9_ = i;
								i = _tmp9_ + 1;
							}
							_tmp8_ = FALSE;
							_tmp10_ = i;
							if (!(_tmp10_ < 4)) {
								break;
							}
							_tmp11_ = util_json_next (self, NULL);
							_tmp12_ = g_strdup_printf ("%c", _tmp11_);
							_tmp13_ = _tmp12_;
							_tmp14_ = g_utf8_strdown (_tmp13_, (gssize) -1);
							_tmp15_ = _tmp14_;
							_tmp16_ = string_index_of (UTIL_JSON_HEX_DIGIT, _tmp15_, 0);
							hex = _tmp16_;
							_g_free0 (_tmp15_);
							_g_free0 (_tmp13_);
							_tmp17_ = hex;
							if (_tmp17_ < 0) {
								break;
							}
							_tmp18_ = uffff;
							_tmp19_ = hex;
							uffff = (_tmp18_ * 16) + _tmp19_;
						}
					}
					_tmp20_ = string;
					_tmp21_ = uffff;
					_tmp22_ = g_strdup_printf ("%c", (gchar) _tmp21_);
					_tmp23_ = _tmp22_;
					_tmp24_ = g_strconcat (_tmp20_, _tmp23_, NULL);
					_g_free0 (string);
					string = _tmp24_;
					_g_free0 (_tmp23_);
				} else {
					gchar _tmp25_ = '\0';
					gint _tmp26_ = 0;
					gint _tmp27_ = 0;
					_tmp25_ = self->ch;
					_tmp26_ = string_index_of_char (UTIL_JSON_escape0, (gunichar) _tmp25_, 0);
					i = _tmp26_;
					_tmp27_ = i;
					if (_tmp27_ >= 0) {
						const gchar* _tmp28_ = NULL;
						gint _tmp29_ = 0;
						const gchar* _tmp30_ = NULL;
						gchar* _tmp31_ = NULL;
						_tmp28_ = string;
						_tmp29_ = i;
						_tmp30_ = UTIL_JSON_escape1[_tmp29_];
						_tmp31_ = g_strconcat (_tmp28_, _tmp30_, NULL);
						_g_free0 (string);
						string = _tmp31_;
					} else {
						break;
					}
				}
			} else {
				const gchar* _tmp32_ = NULL;
				gchar _tmp33_ = '\0';
				gchar* _tmp34_ = NULL;
				gchar* _tmp35_ = NULL;
				gchar* _tmp36_ = NULL;
				_tmp32_ = string;
				_tmp33_ = self->ch;
				_tmp34_ = g_strdup_printf ("%c", _tmp33_);
				_tmp35_ = _tmp34_;
				_tmp36_ = g_strconcat (_tmp32_, _tmp35_, NULL);
				_g_free0 (string);
				string = _tmp36_;
				_g_free0 (_tmp35_);
			}
		}
	}
	_tmp37_ = g_error_new_literal (UTIL_JSON_EXCEPTION, UTIL_JSON_EXCEPTION_InvalidString, "");
	_inner_error_ = _tmp37_;
	_g_free0 (string);
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return NULL;
}


void util_json_skipWhite (utilJson* self) {
	g_return_if_fail (self != NULL);
	while (TRUE) {
		gboolean _tmp0_ = FALSE;
		gchar _tmp1_ = '\0';
		_tmp1_ = self->ch;
		if (((gint) _tmp1_) != 0) {
			gchar _tmp2_ = '\0';
			_tmp2_ = self->ch;
			_tmp0_ = _tmp2_ <= ' ';
		} else {
			_tmp0_ = FALSE;
		}
		if (!_tmp0_) {
			break;
		}
		util_json_next (self, NULL);
	}
}


utilJsVariant* util_json_getWord (utilJson* self) {
	utilJsVariant* result = NULL;
	gchar _tmp0_ = '\0';
	gchar _tmp17_ = '\0';
	gchar* _tmp18_ = NULL;
	gchar* _tmp19_ = NULL;
	gchar* _tmp20_ = NULL;
	gchar* _tmp21_ = NULL;
	gchar* _tmp22_ = NULL;
	gchar* _tmp23_ = NULL;
	GError* _tmp24_ = NULL;
	GError* _tmp25_ = NULL;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->ch;
	switch (_tmp0_) {
		case 't':
		{
			gchar _tmp1_ = '\0';
			gchar _tmp2_ = '\0';
			gchar _tmp3_ = '\0';
			gchar _tmp4_ = '\0';
			utilJsVariant* _tmp5_ = NULL;
			_tmp1_ = 't';
			util_json_next (self, &_tmp1_);
			_tmp2_ = 'r';
			util_json_next (self, &_tmp2_);
			_tmp3_ = 'u';
			util_json_next (self, &_tmp3_);
			_tmp4_ = 'e';
			util_json_next (self, &_tmp4_);
			_tmp5_ = util_js_variant_Boolean (TRUE);
			result = _tmp5_;
			return result;
		}
		case 'f':
		{
			gchar _tmp6_ = '\0';
			gchar _tmp7_ = '\0';
			gchar _tmp8_ = '\0';
			gchar _tmp9_ = '\0';
			gchar _tmp10_ = '\0';
			utilJsVariant* _tmp11_ = NULL;
			_tmp6_ = 'f';
			util_json_next (self, &_tmp6_);
			_tmp7_ = 'a';
			util_json_next (self, &_tmp7_);
			_tmp8_ = 'l';
			util_json_next (self, &_tmp8_);
			_tmp9_ = 's';
			util_json_next (self, &_tmp9_);
			_tmp10_ = 'e';
			util_json_next (self, &_tmp10_);
			_tmp11_ = util_js_variant_Boolean (FALSE);
			result = _tmp11_;
			return result;
		}
		case 'n':
		{
			gchar _tmp12_ = '\0';
			gchar _tmp13_ = '\0';
			gchar _tmp14_ = '\0';
			gchar _tmp15_ = '\0';
			utilJsVariant* _tmp16_ = NULL;
			_tmp12_ = 'n';
			util_json_next (self, &_tmp12_);
			_tmp13_ = 'u';
			util_json_next (self, &_tmp13_);
			_tmp14_ = 'l';
			util_json_next (self, &_tmp14_);
			_tmp15_ = 'l';
			util_json_next (self, &_tmp15_);
			_tmp16_ = util_js_variant_new (UTIL_JS_TYPE_JS_OBJECT, TRUE);
			result = _tmp16_;
			return result;
		}
		default:
		break;
	}
	_tmp17_ = self->ch;
	_tmp18_ = g_strdup_printf ("%c", _tmp17_);
	_tmp19_ = _tmp18_;
	_tmp20_ = g_strconcat ("Unexpected '", _tmp19_, NULL);
	_tmp21_ = _tmp20_;
	_tmp22_ = g_strconcat (_tmp21_, "'", NULL);
	_tmp23_ = _tmp22_;
	_tmp24_ = g_error_new_literal (UTIL_JSON_EXCEPTION, UTIL_JSON_EXCEPTION_UnexpectedCharacter, _tmp23_);
	_tmp25_ = _tmp24_;
	_g_free0 (_tmp23_);
	_g_free0 (_tmp21_);
	_g_free0 (_tmp19_);
	_inner_error_ = _tmp25_;
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return NULL;
}


utilJsVariant* util_json_getArray (utilJson* self) {
	utilJsVariant* result = NULL;
	utilJsVariant* _result_ = NULL;
	utilJsVariant* _tmp0_ = NULL;
	gchar _tmp1_ = '\0';
	GError* _tmp11_ = NULL;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = util_js_variant_new (UTIL_JS_TYPE_JS_ARRAY, FALSE);
	_result_ = _tmp0_;
	_tmp1_ = self->ch;
	if (_tmp1_ == '[') {
		gchar _tmp2_ = '\0';
		gchar _tmp3_ = '\0';
		_tmp2_ = '[';
		util_json_next (self, &_tmp2_);
		util_json_skipWhite (self);
		_tmp3_ = self->ch;
		if (_tmp3_ == ']') {
			gchar _tmp4_ = '\0';
			_tmp4_ = ']';
			util_json_next (self, &_tmp4_);
			result = _result_;
			return result;
		}
		while (TRUE) {
			gchar _tmp5_ = '\0';
			utilJsVariant* _tmp6_ = NULL;
			utilJsVariant* _tmp7_ = NULL;
			gchar _tmp8_ = '\0';
			gchar _tmp10_ = '\0';
			_tmp5_ = self->ch;
			if (!(((gint) _tmp5_) != 0)) {
				break;
			}
			_tmp6_ = _result_;
			_tmp7_ = util_json_getValue (self);
			_tmp6_->array = g_list_append (_tmp6_->array, _tmp7_);
			util_json_skipWhite (self);
			_tmp8_ = self->ch;
			if (_tmp8_ == ']') {
				gchar _tmp9_ = '\0';
				_tmp9_ = ']';
				util_json_next (self, &_tmp9_);
				result = _result_;
				return result;
			}
			_tmp10_ = ',';
			util_json_next (self, &_tmp10_);
			util_json_skipWhite (self);
		}
	}
	_tmp11_ = g_error_new_literal (UTIL_JSON_EXCEPTION, UTIL_JSON_EXCEPTION_InvalidArray, "");
	_inner_error_ = _tmp11_;
	_g_object_unref0 (_result_);
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return NULL;
}


utilJsVariant* util_json_getObject (utilJson* self) {
	utilJsVariant* result = NULL;
	gchar* key = NULL;
	gchar* _tmp0_ = NULL;
	utilJsVariant* _result_ = NULL;
	utilJsVariant* _tmp1_ = NULL;
	gchar _tmp2_ = '\0';
	GError* _tmp25_ = NULL;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = g_strdup ("");
	key = _tmp0_;
	_tmp1_ = util_js_variant_new (UTIL_JS_TYPE_JS_OBJECT, FALSE);
	_result_ = _tmp1_;
	_tmp2_ = self->ch;
	if (_tmp2_ == '{') {
		gchar _tmp3_ = '\0';
		gchar _tmp4_ = '\0';
		_tmp3_ = '{';
		util_json_next (self, &_tmp3_);
		util_json_skipWhite (self);
		_tmp4_ = self->ch;
		if (_tmp4_ == '}') {
			gchar _tmp5_ = '\0';
			_tmp5_ = '}';
			util_json_next (self, &_tmp5_);
			result = _result_;
			_g_free0 (key);
			return result;
		}
		while (TRUE) {
			gchar _tmp6_ = '\0';
			utilJsVariant* _tmp7_ = NULL;
			utilJsVariant* _tmp8_ = NULL;
			const gchar* _tmp9_ = NULL;
			gchar* _tmp10_ = NULL;
			gchar _tmp11_ = '\0';
			utilJsVariant* _tmp12_ = NULL;
			GHashTable* _tmp13_ = NULL;
			const gchar* _tmp14_ = NULL;
			gboolean _tmp15_ = FALSE;
			utilJsVariant* _tmp17_ = NULL;
			GHashTable* _tmp18_ = NULL;
			const gchar* _tmp19_ = NULL;
			gchar* _tmp20_ = NULL;
			utilJsVariant* _tmp21_ = NULL;
			gchar _tmp22_ = '\0';
			gchar _tmp24_ = '\0';
			_tmp6_ = self->ch;
			if (!(((gint) _tmp6_) != 0)) {
				break;
			}
			_tmp7_ = util_json_getString (self);
			_tmp8_ = _tmp7_;
			_tmp9_ = _tmp8_->string;
			_tmp10_ = g_strdup (_tmp9_);
			_g_free0 (key);
			key = _tmp10_;
			_g_object_unref0 (_tmp8_);
			util_json_skipWhite (self);
			_tmp11_ = ':';
			util_json_next (self, &_tmp11_);
			_tmp12_ = _result_;
			_tmp13_ = _tmp12_->object;
			_tmp14_ = key;
			_tmp15_ = g_hash_table_contains (_tmp13_, _tmp14_);
			if (_tmp15_) {
				GError* _tmp16_ = NULL;
				_tmp16_ = g_error_new_literal (UTIL_JSON_EXCEPTION, UTIL_JSON_EXCEPTION_DuplicateKey, "");
				_inner_error_ = _tmp16_;
				_g_object_unref0 (_result_);
				_g_free0 (key);
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return NULL;
			}
			_tmp17_ = _result_;
			_tmp18_ = _tmp17_->object;
			_tmp19_ = key;
			_tmp20_ = g_strdup (_tmp19_);
			_tmp21_ = util_json_getValue (self);
			g_hash_table_insert (_tmp18_, _tmp20_, _tmp21_);
			util_json_skipWhite (self);
			_tmp22_ = self->ch;
			if (_tmp22_ == '}') {
				gchar _tmp23_ = '\0';
				_tmp23_ = '}';
				util_json_next (self, &_tmp23_);
				result = _result_;
				_g_free0 (key);
				return result;
			}
			_tmp24_ = ',';
			util_json_next (self, &_tmp24_);
			util_json_skipWhite (self);
		}
	}
	_tmp25_ = g_error_new_literal (UTIL_JSON_EXCEPTION, UTIL_JSON_EXCEPTION_InvalidObject, "");
	_inner_error_ = _tmp25_;
	_g_object_unref0 (_result_);
	_g_free0 (key);
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return NULL;
}


static void util_json_class_init (utilJsonClass * klass) {
	util_json_parent_class = g_type_class_peek_parent (klass);
	G_OBJECT_CLASS (klass)->finalize = util_json_finalize;
}


static void util_json_instance_init (utilJson * self) {
}


static void util_json_finalize (GObject* obj) {
	utilJson * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, UTIL_TYPE_JSON, utilJson);
	_g_free0 (self->text);
	(self->replacer_target_destroy_notify == NULL) ? NULL : (self->replacer_target_destroy_notify (self->replacer_target), NULL);
	self->replacer = NULL;
	self->replacer_target = NULL;
	self->replacer_target_destroy_notify = NULL;
	G_OBJECT_CLASS (util_json_parent_class)->finalize (obj);
}


/**
     * @see https://github.com/douglascrockford/JSON-js
     */
GType util_json_get_type (void) {
	static volatile gsize util_json_type_id__volatile = 0;
	if (g_once_init_enter (&util_json_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (utilJsonClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) util_json_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (utilJson), 0, (GInstanceInitFunc) util_json_instance_init, NULL };
		GType util_json_type_id;
		util_json_type_id = g_type_register_static (G_TYPE_OBJECT, "utilJson", &g_define_type_info, 0);
		g_once_init_leave (&util_json_type_id__volatile, util_json_type_id);
	}
	return util_json_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



