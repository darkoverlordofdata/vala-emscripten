/* Factory.c generated by valac 0.34.7, the Vala compiler
 * generated from Factory.gs, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <float.h>
#include <math.h>
#include <stdlib.h>
#include <string.h>
#include <SDL2/SDL_events.h>
#include <SDL2/SDL_render.h>
#include <SDL2/SDL_pixels.h>
#include <SDL2/SDL_surface.h>
#include <emscripten.h>


#define TYPE_POOL (pool_get_type ())
typedef struct _entitasWorld entitasWorld;
typedef struct _entitasGroup entitasGroup;

#define ENTITAS_TYPE_ENTITY (entitas_entity_get_type ())

#define ENTITAS_TYPE_BACKGROUND (entitas_background_get_type ())
typedef struct _entitasBackground entitasBackground;

#define ENTITAS_TYPE_BOUNDS (entitas_bounds_get_type ())
typedef struct _entitasBounds entitasBounds;

#define ENTITAS_TYPE_BULLET (entitas_bullet_get_type ())
typedef struct _entitasBullet entitasBullet;

#define ENTITAS_TYPE_ENEMY1 (entitas_enemy1_get_type ())
typedef struct _entitasEnemy1 entitasEnemy1;

#define ENTITAS_TYPE_ENEMY2 (entitas_enemy2_get_type ())
typedef struct _entitasEnemy2 entitasEnemy2;

#define ENTITAS_TYPE_ENEMY3 (entitas_enemy3_get_type ())
typedef struct _entitasEnemy3 entitasEnemy3;

#define ENTITAS_TYPE_EXPIRES (entitas_expires_get_type ())
typedef struct _entitasExpires entitasExpires;

#define ENTITAS_TYPE_HEALTH (entitas_health_get_type ())
typedef struct _entitasHealth entitasHealth;

#define ENTITAS_TYPE_HUD (entitas_hud_get_type ())
typedef struct _entitasHud entitasHud;

#define ENTITAS_TYPE_INDEX (entitas_index_get_type ())
typedef struct _entitasIndex entitasIndex;

#define ENTITAS_TYPE_LAYER (entitas_layer_get_type ())
typedef struct _entitasLayer entitasLayer;

#define ENTITAS_TYPE_POSITION (entitas_position_get_type ())
typedef struct _entitasPosition entitasPosition;

#define ENTITAS_TYPE_SCALE (entitas_scale_get_type ())
typedef struct _entitasScale entitasScale;

#define ENTITAS_TYPE_SPRITE (entitas_sprite_get_type ())
typedef struct _sdxSprite sdxSprite;
typedef struct _entitasSprite entitasSprite;

#define ENTITAS_TYPE_TEXT (entitas_text_get_type ())
typedef struct _entitasText entitasText;

#define ENTITAS_TYPE_TINT (entitas_tint_get_type ())
typedef struct _entitasTint entitasTint;

#define ENTITAS_TYPE_TWEEN (entitas_tween_get_type ())
typedef struct _entitasTween entitasTween;

#define ENTITAS_TYPE_VELOCITY (entitas_velocity_get_type ())
typedef struct _entitasVelocity entitasVelocity;
typedef struct _entitasEntity entitasEntity;

#define ENTITAS_TYPE_ISYSTEM (entitas_isystem_get_type ())
typedef struct _entitasISystem entitasISystem;
typedef entitasWorld Factory;
typedef struct _Game Game;
typedef struct _sdxFont sdxFont;
typedef struct _systemsCollision systemsCollision;
typedef struct _systemsExpire systemsExpire;
typedef struct _systemsInput systemsInput;
typedef struct _systemsPhysics systemsPhysics;
typedef struct _systemsRemove systemsRemove;
typedef struct _systemsSpawn systemsSpawn;
typedef struct _systemsAnimation systemsAnimation;

#define SDX_TYPE_SCALE (sdx_scale_get_type ())
typedef struct _sdxScale sdxScale;
void sdx_sprite_release (sdxSprite* self);
void sdx_sprite_free (sdxSprite* self);
sdxSprite* sdx_sprite_addRef (sdxSprite* self);
#define _sdx_sprite_release0(var) ((var == NULL) ? NULL : (var = (sdx_sprite_release (var), NULL)))

typedef enum  {
	POOL_BACKGROUND,
	POOL_ENEMY1,
	POOL_ENEMY2,
	POOL_ENEMY3,
	POOL_PLAYER,
	POOL_BULLET,
	POOL_EXPLOSION,
	POOL_BANG,
	POOL_PARTICLE,
	POOL_HUD,
	POOL_Count
} Pool;

struct _entitasBackground {
	gboolean active;
};

struct _entitasBounds {
	gint x;
	gint y;
	gint w;
	gint h;
};

struct _entitasBullet {
	gboolean active;
};

struct _entitasEnemy1 {
	gboolean active;
};

struct _entitasEnemy2 {
	gboolean active;
};

struct _entitasEnemy3 {
	gboolean active;
};

struct _entitasExpires {
	gdouble value;
};

struct _entitasHealth {
	gdouble current;
	gdouble maximum;
};

struct _entitasHud {
	gboolean active;
};

struct _entitasIndex {
	gint value;
	gint limit;
	gboolean vertical;
};

struct _entitasLayer {
	gint value;
};

struct _entitasPosition {
	gdouble x;
	gdouble y;
};

struct _entitasScale {
	gdouble x;
	gdouble y;
};

struct _entitasSprite {
	sdxSprite* sprite;
	gint width;
	gint height;
};

struct _entitasText {
	gchar* text;
	sdxSprite* sprite;
};

struct _entitasTint {
	gint r;
	gint g;
	gint b;
	gint a;
};

struct _entitasTween {
	gdouble min;
	gdouble max;
	gdouble speed;
	gboolean repeat;
	gboolean active;
};

struct _entitasVelocity {
	gdouble x;
	gdouble y;
};

struct _entitasEntity {
	gint id;
	gchar* name;
	gint pool;
	guint64 mask;
	entitasBackground* background;
	entitasBounds* bounds;
	entitasBullet* bullet;
	entitasEnemy1* enemy1;
	entitasEnemy2* enemy2;
	entitasEnemy3* enemy3;
	entitasExpires* expires;
	entitasHealth* health;
	entitasHud* hud;
	entitasIndex* index;
	entitasLayer* layer;
	entitasPosition* position;
	entitasScale* scale;
	entitasSprite* sprite;
	entitasText* text;
	entitasTint* tint;
	entitasTween* tween;
	entitasVelocity* velocity;
};

typedef void (*entitasSystemInitialize) (void* user_data);
typedef void (*entitasSystemExecute) (gdouble delta, void* user_data);
struct _entitasISystem {
	entitasSystemInitialize initialize;
	gpointer initialize_target;
	entitasSystemExecute execute;
	gpointer execute_target;
};

typedef void (*entitasEntityRemovedListener) (entitasEntity* e, void* user_data);
struct _entitasWorld {
	gint refCount;
	GList* groups;
	GList** cache;
	gint cache_length1;
	gint id;
	entitasISystem* systems[100];
	gint count;
	entitasEntityRemovedListener entityRemoved;
	gpointer entityRemoved_target;
};

struct _Game {
	gint refCount;
	gint width;
	gint height;
	gdouble mark1;
	gdouble mark2;
	gdouble delta;
	gdouble mouseX;
	gdouble mouseY;
	gboolean mouseDown;
	gboolean running;
	guint8 keys[256];
	SDL_Event evt;
	SDL_Renderer* renderer;
	Factory* world;
	GList* sprites;
	sdxFont* font;
	sdxSprite* fpsSprite;
	gdouble fps;
	gdouble elapsed;
	gint frames;
	systemsCollision* collision;
	systemsExpire* expire;
	systemsInput* input;
	systemsPhysics* physics;
	systemsRemove* remove;
	systemsSpawn* spawn;
	systemsAnimation* animate;
	gdouble freq;
	entitasEntity* player;
};

struct _sdxScale {
	gdouble x;
	gdouble y;
};

struct _sdxSprite {
	gint refCount;
	SDL_Texture* texture;
	SDL_Surface* surface;
	gint width;
	gint height;
	gint x;
	gint y;
	sdxScale scale;
	SDL_Color color;
	gboolean centered;
	gint layer;
	gint id;
	gchar* path;
	gboolean isText;
};



#define TAU (2.0 * G_PI)
GType pool_get_type (void) G_GNUC_CONST;
void entitas_world_free (entitasWorld* self);
void entitas_group_free (entitasGroup* self);
GType entitas_entity_get_type (void) G_GNUC_CONST;
GType entitas_background_get_type (void) G_GNUC_CONST;
entitasBackground* entitas_background_dup (const entitasBackground* self);
void entitas_background_free (entitasBackground* self);
GType entitas_bounds_get_type (void) G_GNUC_CONST;
entitasBounds* entitas_bounds_dup (const entitasBounds* self);
void entitas_bounds_free (entitasBounds* self);
GType entitas_bullet_get_type (void) G_GNUC_CONST;
entitasBullet* entitas_bullet_dup (const entitasBullet* self);
void entitas_bullet_free (entitasBullet* self);
GType entitas_enemy1_get_type (void) G_GNUC_CONST;
entitasEnemy1* entitas_enemy1_dup (const entitasEnemy1* self);
void entitas_enemy1_free (entitasEnemy1* self);
GType entitas_enemy2_get_type (void) G_GNUC_CONST;
entitasEnemy2* entitas_enemy2_dup (const entitasEnemy2* self);
void entitas_enemy2_free (entitasEnemy2* self);
GType entitas_enemy3_get_type (void) G_GNUC_CONST;
entitasEnemy3* entitas_enemy3_dup (const entitasEnemy3* self);
void entitas_enemy3_free (entitasEnemy3* self);
GType entitas_expires_get_type (void) G_GNUC_CONST;
entitasExpires* entitas_expires_dup (const entitasExpires* self);
void entitas_expires_free (entitasExpires* self);
GType entitas_health_get_type (void) G_GNUC_CONST;
entitasHealth* entitas_health_dup (const entitasHealth* self);
void entitas_health_free (entitasHealth* self);
GType entitas_hud_get_type (void) G_GNUC_CONST;
entitasHud* entitas_hud_dup (const entitasHud* self);
void entitas_hud_free (entitasHud* self);
GType entitas_index_get_type (void) G_GNUC_CONST;
entitasIndex* entitas_index_dup (const entitasIndex* self);
void entitas_index_free (entitasIndex* self);
GType entitas_layer_get_type (void) G_GNUC_CONST;
entitasLayer* entitas_layer_dup (const entitasLayer* self);
void entitas_layer_free (entitasLayer* self);
GType entitas_position_get_type (void) G_GNUC_CONST;
entitasPosition* entitas_position_dup (const entitasPosition* self);
void entitas_position_free (entitasPosition* self);
GType entitas_scale_get_type (void) G_GNUC_CONST;
entitasScale* entitas_scale_dup (const entitasScale* self);
void entitas_scale_free (entitasScale* self);
GType entitas_sprite_get_type (void) G_GNUC_CONST;
void sdx_sprite_free (sdxSprite* self);
entitasSprite* entitas_sprite_dup (const entitasSprite* self);
void entitas_sprite_free (entitasSprite* self);
void entitas_sprite_copy (const entitasSprite* self, entitasSprite* dest);
void entitas_sprite_destroy (entitasSprite* self);
GType entitas_text_get_type (void) G_GNUC_CONST;
entitasText* entitas_text_dup (const entitasText* self);
void entitas_text_free (entitasText* self);
void entitas_text_copy (const entitasText* self, entitasText* dest);
void entitas_text_destroy (entitasText* self);
GType entitas_tint_get_type (void) G_GNUC_CONST;
entitasTint* entitas_tint_dup (const entitasTint* self);
void entitas_tint_free (entitasTint* self);
GType entitas_tween_get_type (void) G_GNUC_CONST;
entitasTween* entitas_tween_dup (const entitasTween* self);
void entitas_tween_free (entitasTween* self);
GType entitas_velocity_get_type (void) G_GNUC_CONST;
entitasVelocity* entitas_velocity_dup (const entitasVelocity* self);
void entitas_velocity_free (entitasVelocity* self);
entitasEntity* entitas_entity_dup (const entitasEntity* self);
void entitas_entity_free (entitasEntity* self);
void entitas_entity_copy (const entitasEntity* self, entitasEntity* dest);
void entitas_entity_destroy (entitasEntity* self);
GType entitas_isystem_get_type (void) G_GNUC_CONST;
entitasISystem* entitas_isystem_dup (const entitasISystem* self);
void entitas_isystem_free (entitasISystem* self);
void game_free (Game* self);
entitasEntity* factory_createBase (Factory* self, Game* game, const gchar* name, const gchar* path, gint pool, gdouble scale, gboolean active);
void sdx_font_free (sdxFont* self);
void systems_collision_free (systemsCollision* self);
void systems_expire_free (systemsExpire* self);
void systems_input_free (systemsInput* self);
void systems_physics_free (systemsPhysics* self);
void systems_remove_free (systemsRemove* self);
void systems_spawn_free (systemsSpawn* self);
void systems_animation_free (systemsAnimation* self);
sdxSprite* sdx_sprite_new (SDL_Renderer* renderer, const gchar* path, sdxFont* font, SDL_Color* color);
entitasEntity* entitas_world_createEntity (entitasWorld* self, const gchar* name, gint pool, gboolean active);
entitasEntity* entitas_entity_addPosition (entitasEntity *self, gdouble x, gdouble y);
entitasEntity* entitas_entity_addLayer (entitasEntity *self, gint value);
entitasEntity* entitas_entity_addBounds (entitasEntity *self, gint x, gint y, gint w, gint h);
GType sdx_scale_get_type (void) G_GNUC_CONST;
sdxScale* sdx_scale_dup (const sdxScale* self);
void sdx_scale_free (sdxScale* self);
entitasEntity* entitas_entity_addScale (entitasEntity *self, gdouble x, gdouble y);
entitasEntity* entitas_entity_addSprite (entitasEntity *self, sdxSprite* sprite, gint width, gint height);
entitasEntity* factory_createBackground (Factory* self, Game* game);
entitasEntity* entitas_entity_setBackground (entitasEntity *self, gboolean value);
void entityAdded (entitasEntity* e);
entitasEntity* factory_createPlayer (Factory* self, Game* game);
entitasEntity* factory_createBullet (Factory* self, Game* game);
entitasEntity* entitas_entity_addTint (entitasEntity *self, gint r, gint g, gint b, gint a);
entitasEntity* entitas_entity_addExpires (entitasEntity *self, gdouble value);
entitasEntity* entitas_entity_addHealth (entitasEntity *self, gdouble current, gdouble maximum);
entitasEntity* entitas_entity_addVelocity (entitasEntity *self, gdouble x, gdouble y);
entitasEntity* entitas_entity_setBullet (entitasEntity *self, gboolean value);
entitasEntity* factory_createEnemy1 (Factory* self, Game* game);
entitasEntity* entitas_entity_setEnemy1 (entitasEntity *self, gboolean value);
entitasEntity* factory_createEnemy2 (Factory* self, Game* game);
entitasEntity* entitas_entity_setEnemy2 (entitasEntity *self, gboolean value);
entitasEntity* factory_createEnemy3 (Factory* self, Game* game);
entitasEntity* entitas_entity_setEnemy3 (entitasEntity *self, gboolean value);
entitasEntity* factory_createExplosion (Factory* self, Game* game);
entitasEntity* entitas_entity_addTween (entitasEntity *self, gdouble min, gdouble max, gdouble speed, gboolean repeat, gboolean active);
entitasEntity* factory_createBang (Factory* self, Game* game);
entitasEntity* factory_createParticle (Factory* self, Game* game);
void factory_newBullet (Factory* self, gint x, gint y);
entitasEntity* entitas_entity_setPosition (entitasEntity *self, gdouble x, gdouble y);
entitasEntity* entitas_entity_setExpires (entitasEntity *self, gdouble value);
entitasEntity* entitas_entity_setActive (entitasEntity *self, gboolean active);
void factory_newEnemy1 (Factory* self, gint x, gint y);
entitasEntity* entitas_entity_setHealth (entitasEntity *self, gdouble current, gdouble maximum);
void factory_newEnemy2 (Factory* self, gint x, gint y);
void factory_newEnemy3 (Factory* self, gint x, gint y);
void factory_newExplosion (Factory* self, gint x, gint y);
entitasEntity* entitas_entity_setBounds (entitasEntity *self, gint x, gint y, gint w, gint h);
entitasEntity* entitas_entity_setTween (entitasEntity *self, gdouble min, gdouble max, gdouble speed, gboolean repeat, gboolean active);
entitasEntity* entitas_entity_setScale (entitasEntity *self, gdouble x, gdouble y);
void factory_newBang (Factory* self, gint x, gint y);
void factory_newParticle (Factory* self, gint x, gint y);
entitasEntity* entitas_entity_setVelocity (entitasEntity *self, gdouble x, gdouble y);
Factory* factory_new (void);
entitasWorld* entitas_world_new (void);


GType pool_get_type (void) {
	static volatile gsize pool_type_id__volatile = 0;
	if (g_once_init_enter (&pool_type_id__volatile)) {
		static const GEnumValue values[] = {{POOL_BACKGROUND, "POOL_BACKGROUND", "background"}, {POOL_ENEMY1, "POOL_ENEMY1", "enemy1"}, {POOL_ENEMY2, "POOL_ENEMY2", "enemy2"}, {POOL_ENEMY3, "POOL_ENEMY3", "enemy3"}, {POOL_PLAYER, "POOL_PLAYER", "player"}, {POOL_BULLET, "POOL_BULLET", "bullet"}, {POOL_EXPLOSION, "POOL_EXPLOSION", "explosion"}, {POOL_BANG, "POOL_BANG", "bang"}, {POOL_PARTICLE, "POOL_PARTICLE", "particle"}, {POOL_HUD, "POOL_HUD", "hud"}, {POOL_Count, "POOL_Count", "count"}, {0, NULL, NULL}};
		GType pool_type_id;
		pool_type_id = g_enum_register_static ("Pool", values);
		g_once_init_leave (&pool_type_id__volatile, pool_type_id);
	}
	return pool_type_id__volatile;
}


/**
 * The stuff that all entities have
 */
entitasEntity* factory_createBase (Factory* self, Game* game, const gchar* name, const gchar* path, gint pool, gdouble scale, gboolean active) {
	entitasEntity* result = NULL;
	sdxSprite* sprite = NULL;
	Game* _tmp0_ = NULL;
	SDL_Renderer* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	sdxSprite* _tmp3_ = NULL;
	const gchar* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	gboolean _tmp6_ = FALSE;
	entitasEntity* _tmp7_ = NULL;
	entitasEntity* _tmp8_ = NULL;
	gint _tmp9_ = 0;
	entitasEntity* _tmp10_ = NULL;
	gint _tmp11_ = 0;
	gint _tmp12_ = 0;
	entitasEntity* _tmp13_ = NULL;
	gdouble _tmp14_ = 0.0;
	gdouble _tmp15_ = 0.0;
	entitasEntity* _tmp16_ = NULL;
	gint _tmp17_ = 0;
	gint _tmp18_ = 0;
	entitasEntity* _tmp19_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (game != NULL, NULL);
	g_return_val_if_fail (name != NULL, NULL);
	g_return_val_if_fail (path != NULL, NULL);
	_tmp0_ = game;
	_tmp1_ = _tmp0_->renderer;
	_tmp2_ = path;
	_tmp3_ = sdx_sprite_new (_tmp1_, _tmp2_, NULL, NULL);
	sprite = _tmp3_;
	_tmp4_ = name;
	_tmp5_ = pool;
	_tmp6_ = active;
	_tmp7_ = entitas_world_createEntity ((entitasWorld*) self, _tmp4_, _tmp5_, _tmp6_);
	_tmp8_ = entitas_entity_addPosition (_tmp7_, (gdouble) 0, (gdouble) 0);
	_tmp9_ = pool;
	_tmp10_ = entitas_entity_addLayer (_tmp8_, _tmp9_);
	_tmp11_ = sprite->width;
	_tmp12_ = sprite->height;
	_tmp13_ = entitas_entity_addBounds (_tmp10_, 0, 0, _tmp11_, _tmp12_);
	_tmp14_ = scale;
	_tmp15_ = scale;
	_tmp16_ = entitas_entity_addScale (_tmp13_, _tmp14_, _tmp15_);
	_tmp17_ = sprite->width;
	_tmp18_ = sprite->height;
	_tmp19_ = entitas_entity_addSprite (_tmp16_, sprite, _tmp17_, _tmp18_);
	result = _tmp19_;
	_sdx_sprite_release0 (sprite);
	return result;
}


/**
 * specialize background
 */
entitasEntity* factory_createBackground (Factory* self, Game* game) {
	entitasEntity* result = NULL;
	entitasEntity* e = NULL;
	Game* _tmp0_ = NULL;
	entitasEntity* _tmp1_ = NULL;
	entitasEntity* _tmp2_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (game != NULL, NULL);
	_tmp0_ = game;
	_tmp1_ = factory_createBase (self, _tmp0_, "background", "assets/images/background.png", (gint) POOL_BACKGROUND, 2.0, TRUE);
	_tmp2_ = entitas_entity_setBackground (_tmp1_, TRUE);
	e = _tmp2_;
	entityAdded (e);
	result = e;
	return result;
}


entitasEntity* factory_createPlayer (Factory* self, Game* game) {
	entitasEntity* result = NULL;
	entitasEntity* e = NULL;
	Game* _tmp0_ = NULL;
	entitasEntity* _tmp1_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (game != NULL, NULL);
	_tmp0_ = game;
	_tmp1_ = factory_createBase (self, _tmp0_, "player", "assets/images/spaceshipspr.png", (gint) POOL_PLAYER, 1.0, TRUE);
	e = _tmp1_;
	entityAdded (e);
	result = e;
	return result;
}


entitasEntity* factory_createBullet (Factory* self, Game* game) {
	entitasEntity* result = NULL;
	entitasEntity* entity = NULL;
	Game* _tmp0_ = NULL;
	entitasEntity* _tmp1_ = NULL;
	entitasEntity* _tmp2_ = NULL;
	entitasEntity* _tmp3_ = NULL;
	entitasEntity* _tmp4_ = NULL;
	entitasEntity* _tmp5_ = NULL;
	entitasEntity* _tmp6_ = NULL;
	GList** _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (game != NULL, NULL);
	_tmp0_ = game;
	_tmp1_ = factory_createBase (self, _tmp0_, "bullet", "assets/images/bullet.png", (gint) POOL_BULLET, 1.0, FALSE);
	_tmp2_ = entitas_entity_addTint (_tmp1_, 0xd2, 0xfa, 0, 0xfa);
	_tmp3_ = entitas_entity_addExpires (_tmp2_, 1.0);
	_tmp4_ = entitas_entity_addHealth (_tmp3_, (gdouble) 2, (gdouble) 2);
	_tmp5_ = entitas_entity_addVelocity (_tmp4_, (gdouble) 0, (gdouble) (-800));
	_tmp6_ = entitas_entity_setBullet (_tmp5_, TRUE);
	entity = _tmp6_;
	_tmp7_ = ((entitasWorld*) self)->cache;
	_tmp7__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp7_[POOL_BULLET] = g_list_prepend (_tmp7_[POOL_BULLET], entity);
	result = entity;
	return result;
}


entitasEntity* factory_createEnemy1 (Factory* self, Game* game) {
	entitasEntity* result = NULL;
	entitasEntity* entity = NULL;
	Game* _tmp0_ = NULL;
	entitasEntity* _tmp1_ = NULL;
	entitasEntity* _tmp2_ = NULL;
	entitasEntity* _tmp3_ = NULL;
	entitasEntity* _tmp4_ = NULL;
	GList** _tmp5_ = NULL;
	gint _tmp5__length1 = 0;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (game != NULL, NULL);
	_tmp0_ = game;
	_tmp1_ = factory_createBase (self, _tmp0_, "enemy1", "assets/images/enemy1.png", (gint) POOL_ENEMY1, 1.0, FALSE);
	_tmp2_ = entitas_entity_addHealth (_tmp1_, (gdouble) 10, (gdouble) 10);
	_tmp3_ = entitas_entity_addVelocity (_tmp2_, (gdouble) 0, (gdouble) 40);
	_tmp4_ = entitas_entity_setEnemy1 (_tmp3_, TRUE);
	entity = _tmp4_;
	_tmp5_ = ((entitasWorld*) self)->cache;
	_tmp5__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp5_[POOL_ENEMY1] = g_list_prepend (_tmp5_[POOL_ENEMY1], entity);
	result = entity;
	return result;
}


entitasEntity* factory_createEnemy2 (Factory* self, Game* game) {
	entitasEntity* result = NULL;
	entitasEntity* entity = NULL;
	Game* _tmp0_ = NULL;
	entitasEntity* _tmp1_ = NULL;
	entitasEntity* _tmp2_ = NULL;
	entitasEntity* _tmp3_ = NULL;
	entitasEntity* _tmp4_ = NULL;
	GList** _tmp5_ = NULL;
	gint _tmp5__length1 = 0;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (game != NULL, NULL);
	_tmp0_ = game;
	_tmp1_ = factory_createBase (self, _tmp0_, "enemy2", "assets/images/enemy2.png", (gint) POOL_ENEMY2, 1.0, FALSE);
	_tmp2_ = entitas_entity_addHealth (_tmp1_, (gdouble) 20, (gdouble) 20);
	_tmp3_ = entitas_entity_addVelocity (_tmp2_, (gdouble) 0, (gdouble) 30);
	_tmp4_ = entitas_entity_setEnemy2 (_tmp3_, TRUE);
	entity = _tmp4_;
	_tmp5_ = ((entitasWorld*) self)->cache;
	_tmp5__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp5_[POOL_ENEMY2] = g_list_prepend (_tmp5_[POOL_ENEMY2], entity);
	result = entity;
	return result;
}


entitasEntity* factory_createEnemy3 (Factory* self, Game* game) {
	entitasEntity* result = NULL;
	entitasEntity* entity = NULL;
	Game* _tmp0_ = NULL;
	entitasEntity* _tmp1_ = NULL;
	entitasEntity* _tmp2_ = NULL;
	entitasEntity* _tmp3_ = NULL;
	entitasEntity* _tmp4_ = NULL;
	GList** _tmp5_ = NULL;
	gint _tmp5__length1 = 0;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (game != NULL, NULL);
	_tmp0_ = game;
	_tmp1_ = factory_createBase (self, _tmp0_, "enemy3", "assets/images/enemy3.png", (gint) POOL_ENEMY3, 1.0, FALSE);
	_tmp2_ = entitas_entity_addHealth (_tmp1_, (gdouble) 60, (gdouble) 60);
	_tmp3_ = entitas_entity_addVelocity (_tmp2_, (gdouble) 0, (gdouble) 20);
	_tmp4_ = entitas_entity_setEnemy3 (_tmp3_, TRUE);
	entity = _tmp4_;
	_tmp5_ = ((entitasWorld*) self)->cache;
	_tmp5__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp5_[POOL_ENEMY3] = g_list_prepend (_tmp5_[POOL_ENEMY3], entity);
	result = entity;
	return result;
}


entitasEntity* factory_createExplosion (Factory* self, Game* game) {
	entitasEntity* result = NULL;
	entitasEntity* entity = NULL;
	Game* _tmp0_ = NULL;
	entitasEntity* _tmp1_ = NULL;
	entitasEntity* _tmp2_ = NULL;
	entitasEntity* _tmp3_ = NULL;
	entitasEntity* _tmp4_ = NULL;
	GList** _tmp5_ = NULL;
	gint _tmp5__length1 = 0;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (game != NULL, NULL);
	_tmp0_ = game;
	_tmp1_ = factory_createBase (self, _tmp0_, "explosion", "assets/images/explosion.png", (gint) POOL_EXPLOSION, 0.6, FALSE);
	_tmp2_ = entitas_entity_addTint (_tmp1_, 0xd2, 0xfa, 0xd2, 0x7f);
	_tmp3_ = entitas_entity_addExpires (_tmp2_, 0.2);
	_tmp4_ = entitas_entity_addTween (_tmp3_, 0.006, 0.6, (gdouble) (-3), FALSE, TRUE);
	entity = _tmp4_;
	_tmp5_ = ((entitasWorld*) self)->cache;
	_tmp5__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp5_[POOL_EXPLOSION] = g_list_prepend (_tmp5_[POOL_EXPLOSION], entity);
	result = entity;
	return result;
}


entitasEntity* factory_createBang (Factory* self, Game* game) {
	entitasEntity* result = NULL;
	entitasEntity* entity = NULL;
	Game* _tmp0_ = NULL;
	entitasEntity* _tmp1_ = NULL;
	entitasEntity* _tmp2_ = NULL;
	entitasEntity* _tmp3_ = NULL;
	entitasEntity* _tmp4_ = NULL;
	GList** _tmp5_ = NULL;
	gint _tmp5__length1 = 0;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (game != NULL, NULL);
	_tmp0_ = game;
	_tmp1_ = factory_createBase (self, _tmp0_, "bang", "assets/images/explosion.png", (gint) POOL_BANG, 0.3, FALSE);
	_tmp2_ = entitas_entity_addTint (_tmp1_, 0xd2, 0xfa, 0xd2, 0x9f);
	_tmp3_ = entitas_entity_addExpires (_tmp2_, 0.2);
	_tmp4_ = entitas_entity_addTween (_tmp3_, 0.003, 0.3, (gdouble) (-3), FALSE, TRUE);
	entity = _tmp4_;
	_tmp5_ = ((entitasWorld*) self)->cache;
	_tmp5__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp5_[POOL_BANG] = g_list_prepend (_tmp5_[POOL_BANG], entity);
	result = entity;
	return result;
}


entitasEntity* factory_createParticle (Factory* self, Game* game) {
	entitasEntity* result = NULL;
	entitasEntity* entity = NULL;
	Game* _tmp0_ = NULL;
	entitasEntity* _tmp1_ = NULL;
	entitasEntity* _tmp2_ = NULL;
	entitasEntity* _tmp3_ = NULL;
	entitasEntity* _tmp4_ = NULL;
	GList** _tmp5_ = NULL;
	gint _tmp5__length1 = 0;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (game != NULL, NULL);
	_tmp0_ = game;
	_tmp1_ = factory_createBase (self, _tmp0_, "particle", "assets/images/star.png", (gint) POOL_PARTICLE, 1.0, FALSE);
	_tmp2_ = entitas_entity_addTint (_tmp1_, 0xd2, 0xfa, 0xd2, 0xfa);
	_tmp3_ = entitas_entity_addExpires (_tmp2_, 0.75);
	_tmp4_ = entitas_entity_addVelocity (_tmp3_, (gdouble) 0, (gdouble) 0);
	entity = _tmp4_;
	_tmp5_ = ((entitasWorld*) self)->cache;
	_tmp5__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp5_[POOL_PARTICLE] = g_list_prepend (_tmp5_[POOL_PARTICLE], entity);
	result = entity;
	return result;
}


void factory_newBullet (Factory* self, gint x, gint y) {
	GList** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	GList* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	entitasEntity* entity = NULL;
	GList** _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	GList* _tmp4_ = NULL;
	gconstpointer _tmp5_ = NULL;
	GList** _tmp6_ = NULL;
	gint _tmp6__length1 = 0;
	GList** _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	GList* _tmp8_ = NULL;
	GList* _tmp9_ = NULL;
	gint _tmp10_ = 0;
	gint _tmp11_ = 0;
	entitasEntity* _tmp12_ = NULL;
	entitasEntity* _tmp13_ = NULL;
	entitasEntity* _tmp14_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((entitasWorld*) self)->cache;
	_tmp0__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp1_ = _tmp0_[POOL_BULLET];
	_tmp2_ = g_list_length (_tmp1_);
	if (_tmp2_ == ((guint) 0)) {
		g_print ("out of bullets\n");
		return;
	}
	_tmp3_ = ((entitasWorld*) self)->cache;
	_tmp3__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp4_ = _tmp3_[POOL_BULLET];
	_tmp5_ = g_list_nth_data (_tmp4_, (guint) 0);
	entity = _tmp5_;
	_tmp6_ = ((entitasWorld*) self)->cache;
	_tmp6__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp7_ = ((entitasWorld*) self)->cache;
	_tmp7__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp8_ = _tmp7_[POOL_BULLET];
	_tmp9_ = g_list_nth (_tmp8_, (guint) 0);
	_tmp6_[POOL_BULLET] = g_list_remove_link (_tmp6_[POOL_BULLET], _tmp9_);
	_tmp10_ = x;
	_tmp11_ = y;
	_tmp12_ = entitas_entity_setPosition (entity, (gdouble) _tmp10_, (gdouble) _tmp11_);
	_tmp13_ = entitas_entity_setExpires (_tmp12_, 1.0);
	_tmp14_ = entitas_entity_setActive (_tmp13_, TRUE);
	entityAdded (_tmp14_);
}


void factory_newEnemy1 (Factory* self, gint x, gint y) {
	GList** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	GList* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	entitasEntity* entity = NULL;
	GList** _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	GList* _tmp4_ = NULL;
	gconstpointer _tmp5_ = NULL;
	GList** _tmp6_ = NULL;
	gint _tmp6__length1 = 0;
	GList** _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	GList* _tmp8_ = NULL;
	GList* _tmp9_ = NULL;
	gint _tmp10_ = 0;
	gint _tmp11_ = 0;
	entitasEntity* _tmp12_ = NULL;
	entitasEntity* _tmp13_ = NULL;
	entitasEntity* _tmp14_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((entitasWorld*) self)->cache;
	_tmp0__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp1_ = _tmp0_[POOL_ENEMY1];
	_tmp2_ = g_list_length (_tmp1_);
	if (_tmp2_ == ((guint) 0)) {
		g_print ("out of enemy1\n");
		return;
	}
	_tmp3_ = ((entitasWorld*) self)->cache;
	_tmp3__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp4_ = _tmp3_[POOL_ENEMY1];
	_tmp5_ = g_list_nth_data (_tmp4_, (guint) 0);
	entity = _tmp5_;
	_tmp6_ = ((entitasWorld*) self)->cache;
	_tmp6__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp7_ = ((entitasWorld*) self)->cache;
	_tmp7__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp8_ = _tmp7_[POOL_ENEMY1];
	_tmp9_ = g_list_nth (_tmp8_, (guint) 0);
	_tmp6_[POOL_ENEMY1] = g_list_remove_link (_tmp6_[POOL_ENEMY1], _tmp9_);
	_tmp10_ = x;
	_tmp11_ = y;
	_tmp12_ = entitas_entity_setPosition (entity, (gdouble) _tmp10_, (gdouble) _tmp11_);
	_tmp13_ = entitas_entity_setHealth (_tmp12_, (gdouble) 10, (gdouble) 10);
	_tmp14_ = entitas_entity_setActive (_tmp13_, TRUE);
	entityAdded (_tmp14_);
}


void factory_newEnemy2 (Factory* self, gint x, gint y) {
	GList** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	GList* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	entitasEntity* entity = NULL;
	GList** _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	GList* _tmp4_ = NULL;
	gconstpointer _tmp5_ = NULL;
	GList** _tmp6_ = NULL;
	gint _tmp6__length1 = 0;
	GList** _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	GList* _tmp8_ = NULL;
	GList* _tmp9_ = NULL;
	gint _tmp10_ = 0;
	gint _tmp11_ = 0;
	entitasEntity* _tmp12_ = NULL;
	entitasEntity* _tmp13_ = NULL;
	entitasEntity* _tmp14_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((entitasWorld*) self)->cache;
	_tmp0__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp1_ = _tmp0_[POOL_ENEMY2];
	_tmp2_ = g_list_length (_tmp1_);
	if (_tmp2_ == ((guint) 0)) {
		g_print ("out of enemy2\n");
		return;
	}
	_tmp3_ = ((entitasWorld*) self)->cache;
	_tmp3__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp4_ = _tmp3_[POOL_ENEMY2];
	_tmp5_ = g_list_nth_data (_tmp4_, (guint) 0);
	entity = _tmp5_;
	_tmp6_ = ((entitasWorld*) self)->cache;
	_tmp6__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp7_ = ((entitasWorld*) self)->cache;
	_tmp7__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp8_ = _tmp7_[POOL_ENEMY2];
	_tmp9_ = g_list_nth (_tmp8_, (guint) 0);
	_tmp6_[POOL_ENEMY2] = g_list_remove_link (_tmp6_[POOL_ENEMY2], _tmp9_);
	_tmp10_ = x;
	_tmp11_ = y;
	_tmp12_ = entitas_entity_setPosition (entity, (gdouble) _tmp10_, (gdouble) _tmp11_);
	_tmp13_ = entitas_entity_setHealth (_tmp12_, (gdouble) 20, (gdouble) 20);
	_tmp14_ = entitas_entity_setActive (_tmp13_, TRUE);
	entityAdded (_tmp14_);
}


void factory_newEnemy3 (Factory* self, gint x, gint y) {
	GList** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	GList* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	entitasEntity* entity = NULL;
	GList** _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	GList* _tmp4_ = NULL;
	gconstpointer _tmp5_ = NULL;
	GList** _tmp6_ = NULL;
	gint _tmp6__length1 = 0;
	GList** _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	GList* _tmp8_ = NULL;
	GList* _tmp9_ = NULL;
	gint _tmp10_ = 0;
	gint _tmp11_ = 0;
	entitasEntity* _tmp12_ = NULL;
	entitasEntity* _tmp13_ = NULL;
	entitasEntity* _tmp14_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((entitasWorld*) self)->cache;
	_tmp0__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp1_ = _tmp0_[POOL_ENEMY3];
	_tmp2_ = g_list_length (_tmp1_);
	if (_tmp2_ == ((guint) 0)) {
		g_print ("out of enemy3\n");
		return;
	}
	_tmp3_ = ((entitasWorld*) self)->cache;
	_tmp3__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp4_ = _tmp3_[POOL_ENEMY3];
	_tmp5_ = g_list_nth_data (_tmp4_, (guint) 0);
	entity = _tmp5_;
	_tmp6_ = ((entitasWorld*) self)->cache;
	_tmp6__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp7_ = ((entitasWorld*) self)->cache;
	_tmp7__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp8_ = _tmp7_[POOL_ENEMY3];
	_tmp9_ = g_list_nth (_tmp8_, (guint) 0);
	_tmp6_[POOL_ENEMY3] = g_list_remove_link (_tmp6_[POOL_ENEMY3], _tmp9_);
	_tmp10_ = x;
	_tmp11_ = y;
	_tmp12_ = entitas_entity_setPosition (entity, (gdouble) _tmp10_, (gdouble) _tmp11_);
	_tmp13_ = entitas_entity_setHealth (_tmp12_, (gdouble) 60, (gdouble) 60);
	_tmp14_ = entitas_entity_setActive (_tmp13_, TRUE);
	entityAdded (_tmp14_);
}


void factory_newExplosion (Factory* self, gint x, gint y) {
	GList** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	GList* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	entitasEntity* entity = NULL;
	GList** _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	GList* _tmp4_ = NULL;
	gconstpointer _tmp5_ = NULL;
	GList** _tmp6_ = NULL;
	gint _tmp6__length1 = 0;
	GList** _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	GList* _tmp8_ = NULL;
	GList* _tmp9_ = NULL;
	gint _tmp10_ = 0;
	gint _tmp11_ = 0;
	entitasEntity* _tmp12_ = NULL;
	entitasBounds* _tmp13_ = NULL;
	gint _tmp14_ = 0;
	entitasEntity* _tmp15_ = NULL;
	entitasBounds* _tmp16_ = NULL;
	gint _tmp17_ = 0;
	entitasEntity* _tmp18_ = NULL;
	entitasEntity* _tmp19_ = NULL;
	gint _tmp20_ = 0;
	gint _tmp21_ = 0;
	entitasEntity* _tmp22_ = NULL;
	entitasEntity* _tmp23_ = NULL;
	entitasEntity* _tmp24_ = NULL;
	entitasEntity* _tmp25_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((entitasWorld*) self)->cache;
	_tmp0__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp1_ = _tmp0_[POOL_EXPLOSION];
	_tmp2_ = g_list_length (_tmp1_);
	if (_tmp2_ == ((guint) 0)) {
		g_print ("out of explosions\n");
		return;
	}
	_tmp3_ = ((entitasWorld*) self)->cache;
	_tmp3__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp4_ = _tmp3_[POOL_EXPLOSION];
	_tmp5_ = g_list_nth_data (_tmp4_, (guint) 0);
	entity = _tmp5_;
	_tmp6_ = ((entitasWorld*) self)->cache;
	_tmp6__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp7_ = ((entitasWorld*) self)->cache;
	_tmp7__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp8_ = _tmp7_[POOL_EXPLOSION];
	_tmp9_ = g_list_nth (_tmp8_, (guint) 0);
	_tmp6_[POOL_EXPLOSION] = g_list_remove_link (_tmp6_[POOL_EXPLOSION], _tmp9_);
	_tmp10_ = x;
	_tmp11_ = y;
	_tmp12_ = entity;
	_tmp13_ = (*_tmp12_).bounds;
	_tmp14_ = (*_tmp13_).w;
	_tmp15_ = entity;
	_tmp16_ = (*_tmp15_).bounds;
	_tmp17_ = (*_tmp16_).h;
	_tmp18_ = entitas_entity_setBounds (entity, _tmp10_, _tmp11_, (gint) _tmp14_, (gint) _tmp17_);
	_tmp19_ = entitas_entity_setTween (_tmp18_, 0.006, 0.6, (gdouble) (-3), FALSE, TRUE);
	_tmp20_ = x;
	_tmp21_ = y;
	_tmp22_ = entitas_entity_setPosition (_tmp19_, (gdouble) _tmp20_, (gdouble) _tmp21_);
	_tmp23_ = entitas_entity_setScale (_tmp22_, 0.6, 0.6);
	_tmp24_ = entitas_entity_setExpires (_tmp23_, 0.2);
	_tmp25_ = entitas_entity_setActive (_tmp24_, TRUE);
	entityAdded (_tmp25_);
}


void factory_newBang (Factory* self, gint x, gint y) {
	GList** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	GList* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	entitasEntity* entity = NULL;
	GList** _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	GList* _tmp4_ = NULL;
	gconstpointer _tmp5_ = NULL;
	GList** _tmp6_ = NULL;
	gint _tmp6__length1 = 0;
	GList** _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	GList* _tmp8_ = NULL;
	GList* _tmp9_ = NULL;
	gint _tmp10_ = 0;
	gint _tmp11_ = 0;
	entitasEntity* _tmp12_ = NULL;
	entitasBounds* _tmp13_ = NULL;
	gint _tmp14_ = 0;
	entitasEntity* _tmp15_ = NULL;
	entitasBounds* _tmp16_ = NULL;
	gint _tmp17_ = 0;
	entitasEntity* _tmp18_ = NULL;
	entitasEntity* _tmp19_ = NULL;
	gint _tmp20_ = 0;
	gint _tmp21_ = 0;
	entitasEntity* _tmp22_ = NULL;
	entitasEntity* _tmp23_ = NULL;
	entitasEntity* _tmp24_ = NULL;
	entitasEntity* _tmp25_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((entitasWorld*) self)->cache;
	_tmp0__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp1_ = _tmp0_[POOL_BANG];
	_tmp2_ = g_list_length (_tmp1_);
	if (_tmp2_ == ((guint) 0)) {
		g_print ("out of bang\n");
		return;
	}
	_tmp3_ = ((entitasWorld*) self)->cache;
	_tmp3__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp4_ = _tmp3_[POOL_BANG];
	_tmp5_ = g_list_nth_data (_tmp4_, (guint) 0);
	entity = _tmp5_;
	_tmp6_ = ((entitasWorld*) self)->cache;
	_tmp6__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp7_ = ((entitasWorld*) self)->cache;
	_tmp7__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp8_ = _tmp7_[POOL_BANG];
	_tmp9_ = g_list_nth (_tmp8_, (guint) 0);
	_tmp6_[POOL_BANG] = g_list_remove_link (_tmp6_[POOL_BANG], _tmp9_);
	_tmp10_ = x;
	_tmp11_ = y;
	_tmp12_ = entity;
	_tmp13_ = (*_tmp12_).bounds;
	_tmp14_ = (*_tmp13_).w;
	_tmp15_ = entity;
	_tmp16_ = (*_tmp15_).bounds;
	_tmp17_ = (*_tmp16_).h;
	_tmp18_ = entitas_entity_setBounds (entity, _tmp10_, _tmp11_, (gint) _tmp14_, (gint) _tmp17_);
	_tmp19_ = entitas_entity_setTween (_tmp18_, 0.003, 0.3, (gdouble) (-3), FALSE, TRUE);
	_tmp20_ = x;
	_tmp21_ = y;
	_tmp22_ = entitas_entity_setPosition (_tmp19_, (gdouble) _tmp20_, (gdouble) _tmp21_);
	_tmp23_ = entitas_entity_setScale (_tmp22_, 0.3, 0.3);
	_tmp24_ = entitas_entity_setExpires (_tmp23_, 0.2);
	_tmp25_ = entitas_entity_setActive (_tmp24_, TRUE);
	entityAdded (_tmp25_);
}


void factory_newParticle (Factory* self, gint x, gint y) {
	GList** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	GList* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	gdouble radians = 0.0;
	gfloat _tmp3_ = 0.0F;
	gfloat magnitude = 0.0F;
	gfloat _tmp4_ = 0.0F;
	gdouble velocityX = 0.0;
	gfloat _tmp5_ = 0.0F;
	gdouble _tmp6_ = 0.0;
	gdouble _tmp7_ = 0.0;
	gdouble velocityY = 0.0;
	gfloat _tmp8_ = 0.0F;
	gdouble _tmp9_ = 0.0;
	gdouble _tmp10_ = 0.0;
	gfloat scale = 0.0F;
	gfloat _tmp11_ = 0.0F;
	entitasEntity* entity = NULL;
	GList** _tmp12_ = NULL;
	gint _tmp12__length1 = 0;
	GList* _tmp13_ = NULL;
	gconstpointer _tmp14_ = NULL;
	GList** _tmp15_ = NULL;
	gint _tmp15__length1 = 0;
	GList** _tmp16_ = NULL;
	gint _tmp16__length1 = 0;
	GList* _tmp17_ = NULL;
	GList* _tmp18_ = NULL;
	gint _tmp19_ = 0;
	gint _tmp20_ = 0;
	entitasEntity* _tmp21_ = NULL;
	entitasBounds* _tmp22_ = NULL;
	gint _tmp23_ = 0;
	entitasEntity* _tmp24_ = NULL;
	entitasBounds* _tmp25_ = NULL;
	gint _tmp26_ = 0;
	entitasEntity* _tmp27_ = NULL;
	gint _tmp28_ = 0;
	gint _tmp29_ = 0;
	entitasEntity* _tmp30_ = NULL;
	gfloat _tmp31_ = 0.0F;
	gfloat _tmp32_ = 0.0F;
	entitasEntity* _tmp33_ = NULL;
	gdouble _tmp34_ = 0.0;
	gdouble _tmp35_ = 0.0;
	entitasEntity* _tmp36_ = NULL;
	entitasEntity* _tmp37_ = NULL;
	entitasEntity* _tmp38_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((entitasWorld*) self)->cache;
	_tmp0__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp1_ = _tmp0_[POOL_PARTICLE];
	_tmp2_ = g_list_length (_tmp1_);
	if (_tmp2_ == ((guint) 0)) {
		g_print ("out of particles\n");
		return;
	}
	_tmp3_ = emscripten_random ();
	radians = _tmp3_ * TAU;
	_tmp4_ = emscripten_random ();
	magnitude = _tmp4_ * 200;
	_tmp5_ = magnitude;
	_tmp6_ = radians;
	_tmp7_ = cos (_tmp6_);
	velocityX = _tmp5_ * _tmp7_;
	_tmp8_ = magnitude;
	_tmp9_ = radians;
	_tmp10_ = sin (_tmp9_);
	velocityY = _tmp8_ * _tmp10_;
	_tmp11_ = emscripten_random ();
	scale = _tmp11_;
	_tmp12_ = ((entitasWorld*) self)->cache;
	_tmp12__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp13_ = _tmp12_[POOL_PARTICLE];
	_tmp14_ = g_list_nth_data (_tmp13_, (guint) 0);
	entity = _tmp14_;
	_tmp15_ = ((entitasWorld*) self)->cache;
	_tmp15__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp16_ = ((entitasWorld*) self)->cache;
	_tmp16__length1 = ((entitasWorld*) self)->cache_length1;
	_tmp17_ = _tmp16_[POOL_PARTICLE];
	_tmp18_ = g_list_nth (_tmp17_, (guint) 0);
	_tmp15_[POOL_PARTICLE] = g_list_remove_link (_tmp15_[POOL_PARTICLE], _tmp18_);
	_tmp19_ = x;
	_tmp20_ = y;
	_tmp21_ = entity;
	_tmp22_ = (*_tmp21_).bounds;
	_tmp23_ = (*_tmp22_).w;
	_tmp24_ = entity;
	_tmp25_ = (*_tmp24_).bounds;
	_tmp26_ = (*_tmp25_).h;
	_tmp27_ = entitas_entity_setBounds (entity, _tmp19_, _tmp20_, (gint) _tmp23_, (gint) _tmp26_);
	_tmp28_ = x;
	_tmp29_ = y;
	_tmp30_ = entitas_entity_setPosition (_tmp27_, (gdouble) _tmp28_, (gdouble) _tmp29_);
	_tmp31_ = scale;
	_tmp32_ = scale;
	_tmp33_ = entitas_entity_setScale (_tmp30_, (gdouble) _tmp31_, (gdouble) _tmp32_);
	_tmp34_ = velocityX;
	_tmp35_ = velocityY;
	_tmp36_ = entitas_entity_setVelocity (_tmp33_, _tmp34_, _tmp35_);
	_tmp37_ = entitas_entity_setExpires (_tmp36_, 0.75);
	_tmp38_ = entitas_entity_setActive (_tmp37_, TRUE);
	entityAdded (_tmp38_);
}


Factory* factory_new (void) {
	Factory* self;
	self = (Factory*) entitas_world_new ();
	return self;
}



